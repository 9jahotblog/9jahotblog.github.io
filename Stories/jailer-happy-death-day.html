<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>Read Jailer's Pen -- Happy Death Day -- Short Story, Read Now. -- Kolawole Ayomide Morenikeji</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="https://9jahotblog.github.io/assets/css/main.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>

        .comment-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
        }
        .comment-input, .reply-input, .auth-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        .comment-button, .reply-button, .auth-button {
            background-color: #28a745;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
        }
        .comment {
            border-bottom: 1px solid #ddd;
            padding: 10px 0;
        }
        .comment img {
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-right: 10px;
        }
        .comment-user {
            font-weight: bold;
        }
        .comment-text {
            margin: 5px 0;
        }
        .comment-metadata {
            font-size: 12px;
            color: #888;
        }
        .reply-section {
            margin-left: 50px;
            border-left: 1px solid #ddd;
            padding-left: 20px;
        }
        .like-button, .helpful-button, .not-helpful-button {
            cursor: pointer;
            margin-right: 10px;
            font-size: 18px;
        }
        .badge {
            display: inline-block;
            padding: 5px;
            background-color: #28a745; /* Green color for 9jahotblogger badge */
            border-radius: 5px;
            margin-left: 10px;
            font-size: 12px;
            color: white;
        }
        .admin-badge {
            background-color: #007bff;
            margin-left: 5px;
            color: white;
        }
        .custom-verified-badge {
         display: inline-block;
         margin-left: 5px;
         width: 18px;
         height: 18px;
         background-image: url('https://i.postimg.cc/BvXX4ThD/images.png'); /* Custom blue badge icon URL */
         background-size: cover;
         background-repeat: no-repeat;
         background-position: center;
         border-radius: 50%; /* This makes the badge circular */
         vertical-align: middle;
        }
        .auth-input-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .emoji-suggestions {
            font-size: 18px;
            margin-top: 10px;
            cursor: pointer;
        }
        .emoji-suggestions span {
            margin-right: 10px;
        }
        .delete-comment-button {
            color: red;
            cursor: pointer;
            font-size: 12px;
            margin-left: 10px;
        }
    </style>
</head>

    <body class="is-preload landing">
    <div id="page-wrapper">

        <!-- Header -->
        <header id="header">
            <h1 id="logo"><a href="https://9jahotblog.github.io">9JAHOTBLOG</a></h1>
            <nav id="nav">
                <ul>
                    <li><a href="https://9jahotblog.github.io">Homepage</a></li>
                    <li>
                        <ul>
                            <li><a href="https://9jahotblog.github.io/submissions.html">Manuscript Submissions</a></li>
                            <li><a href="https://9jahotblog.github.io/short-story-submissions.html">Short Story Submissions</a></li>
                        </ul>
                    </li>
                    <li>
                        <ul>
                            <li><a href="https://9jahotblog.github.io/books.html">Library/Books</a></li>
                            <li><a href="https://9jahotblog.github.io/Articles/7-high-income-skills-to-learn.html">Blog (Articles/news/..)</a></li>
			                <li><a href="https://9jahotblog.github.io/Stories/jailer-yawa.html">Read Short Stories</a></li>
			                <li><a href="https://9jahotblog.github.io/aboutus.html">About Us</a></li>
                            <li><a href="https://9jahotblog.github.io/book-checkout.html">Donate</a></li>
                            <li><a href="https://chat.whatsapp.com/FqMgPdtGjPN14xIts4wXgg">WhatsApp Community</a></li>
                            <li><a href="https://chat.whatsapp.com/JD8iFAZ67hTE8gYJKI5hfm">Join the Team (Volunteer)</a></li>
			           </ul>
                    </li>
                    <li><a href="https://9jahotblog.github.io/create-book-trailers-images-or-movies.html">Adapt Book to Movie</a></li>
                    <li><a href="https://9jahotblog.github.io/creative-contests.html">Participate in Creative Contests</a></li>
                    <li><a href="https://9jahotblog.github.io/nominate-your-book.html">Nominate your Book (Award)</a></li>
                    <li><a href="https://9jahotblog.github.io/profile.html">Visit Your Profile</a></li>
                    <li><a href="https://9jahotblog.github.io/login-page.html">Sign Up</a></li>
                    <li><a href="https://9jahotblog.github.io/login-page.html">Login</a></li>
                    <li><a href="https://9jahotblog.github.io/privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="https://9jahotblog.github.io/search-page.html">Search Page</a></li>
                </ul>
            </nav>
        </header>

        <!-- Main -->
        <div id="main" class="wrapper style1">
            <div class="container">
                <div class="w3-container w3-white w3-margin w3-padding-large">
                    <header class="major">
                        <h3>Read Jailer's Pen</h3>
                        <p>Happy Death Day || Short Story</p>
                    </header>

                         <!-- Blog entry -->
<div class="w3-container w3-white w3-margin w3-padding-large" style="border: 1px solid #ddd; border-radius: 10px; padding: 20px;">
    <div class="w3-center">
        <h3>Jailer's Pen</h3></a>
        <h5>Happy death...<span class="w3-opacity"></span>|| </h5>
    </div>
    
 <div class="w3-justify">
    <img src="https://i.postimg.cc/g2sqwSY3/IMG-20240828-WA0064.jpg" width="350" height="350" style="width:100%" class="w3-padding-16">
    <blockquote><i>Ai generated potrait.</i></blockquote>

     <p><strong>"Happy Deåth Day"</strong></p>

<p>I was so shocked to see these scary wishes from the man I had just met.</p>

<p>I met him at the club where my friends forcefully dragged me to. I was introduced to him, and I was told he could take good care of me because he's rich.</p>

<p>I met him just before my birthday, and my friends assured me he would handle everything for my celebration. I fell in love with him because of his wealth.</p>

<p>Early in the morning of my birthday, he was the first person to send me a message. When I opened it, I saw the words: <strong>"Happy Deåth Day."</strong></p>

<p>Terrified, I rushed out of my room and locked myself in the bathroom. I was shivering when I heard a knock on the door outside.</p>

<p>I widened my eyes as if they might pop out of their sockets and pressed my lips together. <strong>"Oh Lord..."</strong></p>

<p>When I opened the door, I was surprised to see a delivery man holding a box. He grinned and asked, <strong>"Are you Becca?"</strong></p>

<p><strong>"Yeah... I am,"</strong> I responded, and he handed over the box.</p>

<p>I quickly locked the door and threw the box on the bed. I was still standing there when another text message came through on my phone.</p>

<p>I was too scared to check it, so I threw my phone away and turned my attention to the box.</p>

<p>I convinced myself to open it, and with trembling hands, I slowly lifted the lid, closing my eyes as I did.</p>

<p>Sweat dripped from my brow like a dead-weight goat on Christmas. It hit my lips, and I quickly opened my eyes.</p>

<p><strong>"What the..."</strong> I snapped.</p>

<p>Inside the box was a white gown soaked in bløod and the severed head of a doll. Its eyes had been gouged out, and bløod dripped from its nostrils.</p>

<p><strong>"Ha!"</strong> I yelled and ran into the bathroom, hiding behind the bathtub with my legs wrapped together.</p>

<p>Alone and unable to comprehend the horror unfolding around me, the lights suddenly went out, plunging the room into darkness.</p>

<p><strong>"Who's there?"</strong></p>

<p>Before I could react, I saw someone standing before me, holding the head of the doll and a dagger.</p>

<p>He leaned close and kissed my forehead. <strong>"My little chipmunk... why are you shivering?"</strong> he whispered, then stood up suddenly.</p>

<p><strong>"Aman? How did you get in here?"</strong> I fearfully queried.</p>

<p>He leaned in again and grabbed my hair. <strong>"Shut your mouth! Why are you asking questions? You think everything is free?"</strong> he yelled, smashing my head against the bathtub.</p>

<p>Bløod gushed from my ears as he dragged me out and laid me on the ground.</p>

<p><strong>"I thought you'd be smart and refuse when your friends told you that you would pay back,"</strong> he said, smiling menacingly.</p>

<p><strong>"Please, spare me!"</strong> I pleaded.</p>

<p><strong>"No! You will pay the price!"</strong> he insisted, smashing my head against the bathtub yet again.</p>

<p><strong>*#fiction*</strong></p>
<p>©️ Jailer's pen</p>
     
    <p><strong>DON'T FORGET TO LIKE, COMMENT & SHARE</strong></p>
</div>

        
        <div id="notification" style="display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: #4CAF50; color: white; padding: 10px 20px; border-radius: 5px; z-index: 1000;">
    Thank you for your feedback!
</div>

<!-- Writer Profile Button -->
<button id="profile-button" class="profile-button">Writer Profile</button>

<!-- Profile Modal (Hidden by default) -->
<div id="profile-modal" class="profile-modal">
    <div class="profile-content">
        <span id="close-modal" class="close-modal">&times;</span>
        <img src="https://i.postimg.cc/Sx5CB83v/IMG-20240402-WA0025-1.jpg" alt="Profile Picture" class="profile-pic">
        <h2 class="profile-name">Kolawole Ayomide Morenikeji<span class="custom-verified-badge"></span></h2>
        <p class="profile-bio"><strong>Jailer is an experienced writer who specializes in horror, humor, and romance.</p></strong>
        <p><strong> Joined, Jan 2023.</strong></p>
        <p><i class="fa fa-home fa-fw w3-margin-right w3-text-theme"></i> Ibadan, Nigeria</p>
        <p><strong>Verification Status:</strong> Verified⚡️</p>
        
        <!-- Post Analytics Section -->
        <div class="post-analytics">
            <p><strong>Post Comments:</strong> N/A</p>
            <p><strong>Post Reach:</strong> N/A</p>
            <p><strong>Post Earnings:</strong> undisclosed</p>
        </div>

        <!-- Hire Button with Link -->
        <a href="https://wa.me/+2348123058964" class="hire-button">Hire for Job</a>
    </div>
</div>

<style>
    /* Button Styling */
    .profile-button {
        background-color: #28a745;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
    }

    /* Modal Styling */
    .profile-modal {
        display: none; /* Hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        justify-content: center;
        align-items: center;
    }

    .profile-content {
        background-color: black;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        width: 300px;
        position: relative;
        animation: slideIn 0.5s ease-in-out;
    }

    /* Slide-in Animation */
    @keyframes slideIn {
        from {
            transform: translateY(-50%);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    /* Profile Picture Styling */
    .profile-pic {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        margin-bottom: 15px;
    }

    /* Verified Badge Styling */
    .custom-verified-badge {
        display: inline-block;
        margin-left: 5px;
        width: 18px;
        height: 18px;
        background-image: url('https://i.postimg.cc/BvXX4ThD/images.png'); /* Custom blue badge icon URL */
        background-size: cover;
        background-repeat: no-repeat;
        vertical-align: middle;
    }

    /* Close Button Styling */
    .close-modal {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 24px;
        cursor: pointer;
    }

    /* Profile Name Styling */
    .profile-name {
        font-size: 22px;
        margin: 0;
    }

    /* Profile Bio Styling */
    .profile-bio {
        font-size: 14px;
        color: #666;
        margin: 15px 0;
    }

    /* Post Analytics Styling */
    .post-analytics {
        margin-top: 15px;
        text-align: left;
        font-size: 14px;
    }
    .post-analytics p {
        margin: 5px 0;
    }

    /* Hire Button Styling */
    .hire-button {
        display: inline-block;
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        text-decoration: none; /* Removes underline from the link */
        margin-top: 15px;
    }
</style>

<script>
    // JavaScript to handle modal display
    document.getElementById('profile-button').addEventListener('click', function() {
        document.getElementById('profile-modal').style.display = 'flex';
    });

    document.getElementById('close-modal').addEventListener('click', function() {
        document.getElementById('profile-modal').style.display = 'none';
    });

    // Close modal when clicking outside the modal content
    window.addEventListener('click', function(event) {
        if (event.target == document.getElementById('profile-modal')) {
            document.getElementById('profile-modal').style.display = 'none';
        }
    });
</script>
    
<div class="w3-container w3-padding-16 w3-border-top w3-margin-top">
    <div style="display: inline-block; vertical-align: top;">
        <button class="w3-button w3-round like-button" data-article-id="articleid35" onclick="likeFunction(this, 'articleid35')" style="background-color: #28a745; color: white; padding: 8px 15px; font-size: 14px;">
            <i class="fa fa-thumbs-up"></i> Like
        </button>
        <button class="w3-button w3-round dislike-button" data-article-id="articleid35" onclick="dislikeFunction(this, 'articleid35')" style="background-color: #dc3545; color: white; padding: 8px 15px; font-size: 14px; margin-top: 5px;">
            <i class="fa fa-thumbs-down"></i> Dislike
        </button>
    </div>
    <div style="float: right;">
        <button class="w3-button w3-round" style="background-color: #007bff; padding: 8px 15px; font-size: 14px;">
            <a href="https://9jahotblog.github.io/Stories/jailer-last-night.html" style="color: white; text-decoration: none;">More From Jailer »</a>
        </button>
    </div>
    <div style="clear: both;"></div>
</div>
    </div>
         </div> 
            </div>
                </div>


<script>
    function showNotification(message) {
        const notification = document.getElementById('notification');
        notification.textContent = message;
        notification.style.display = 'block';
        setTimeout(() => {
            notification.style.display = 'none';
        }, 3000);
    }

    function saveUserChoice(articleId, choice) {
        localStorage.setItem(`userChoice-${articleId}`, choice);
    }

    function getUserChoice(articleId) {
        return localStorage.getItem(`userChoice-${articleId}`);
    }

    function likeFunction(button, articleId) {
        const userChoice = getUserChoice(articleId);

        if (userChoice !== 'liked') {
            saveUserChoice(articleId, 'liked');
            button.disabled = true;
            button.innerHTML = '<i class="fa fa-thumbs-up"></i> Liked';
            document.querySelector(`.dislike-button[data-article-id="${articleId}"]`).disabled = true;
            document.querySelector(`.dislike-button[data-article-id="${articleId}"]`).innerHTML = '<i class="fa fa-thumbs-down"></i> Dislike';
            showNotification('Thank you for liking this post! Please leave a comment');
        }
    }

    function dislikeFunction(button, articleId) {
        const userChoice = getUserChoice(articleId);

        if (userChoice !== 'disliked') {
            saveUserChoice(articleId, 'disliked');
            button.disabled = true;
            button.innerHTML = '<i class="fa fa-thumbs-down"></i> Disliked';
            document.querySelector(`.like-button[data-article-id="${articleId}"]`).disabled = true;
            document.querySelector(`.like-button[data-article-id="${articleId}"]`).innerHTML = '<i class="fa fa-thumbs-up"></i> Like';
            showNotification('Thank you for your feedback!');
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.like-button').forEach(button => {
            const articleId = button.getAttribute('data-article-id');
            const userChoice = getUserChoice(articleId);

            if (userChoice === 'liked') {
                button.disabled = true;
                button.innerHTML = '<i class="fa fa-thumbs-up"></i> Liked';
                document.querySelector(`.dislike-button[data-article-id="${articleId}"]`).disabled = true;
            } else if (userChoice === 'disliked') {
                document.querySelector(`.dislike-button[data-article-id="${articleId}"]`).disabled = true;
                document.querySelector(`.dislike-button[data-article-id="${articleId}"]`).innerHTML = '<i class="fa fa-thumbs-down"></i> Disliked';
                button.disabled = true;
            }
        });
    });
</script>


                      </div>
                    </div>
                </div>
            </div>
        </div>

                    <div class="w3-container w3-white w3-margin w3-padding-large" style="border: 1px solid #ddd; border-radius: 10px; padding: 20px;">
                    <div id="auth-container">
                        <h4>Sign Up or Log In to Comment</h4>
                        <p>No profile picture url? Go to <a href="https://postimg.cc">Postimg.cc</a>
                        Upload pic and get direct link url to paste here..</p>
                        <div class="auth-input-container">
                            <input type="email" id="auth-email" placeholder="Email" class="auth-input" />
                            <input type="password" id="auth-password" placeholder="Password" class="auth-input" />
                        </div>
                        <div class="auth-input-container">
                            <input type="text" id="auth-username" placeholder="Username (for Sign Up)" class="auth-input" />
                            <input type="text" id="auth-pic-url" placeholder="Profile Picture URL" class="auth-input" />
                        </div>
                        <button id="signup-button" class="auth-button">Sign Up</button>
                        <button id="login-button" class="auth-button">Log In</button>
                    </div>

                    <div class="comment-section" style="display:none;">
                        <h3>Comments</h3>
                        <div id="comment-list"></div>
                        <textarea id="comment-input" class="comment-input" placeholder="Write your comment here..."></textarea>
                        <button id="comment-button" class="comment-button">Post Comment</button>
                        <div class="emoji-suggestions">
                            <span>🤣🤣🤣🤣🤣</span>
                            <span>👏👏👏👏👏</span>
                            <span>🔥🔥🔥🔥🔥</span>
                            <span>🥹🥹🥹🥹🥹</span>
                            <span>🙌🙌🙌🙌🙌</span>
                            <span>🫡🫡🫡🫡🫡</span>
       
                            <!-- Add more emojis here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

        
<!-- Footer -->
        <footer id="footer">
            <ul class="icons">
                <li><a href="https://www.facebook.com/profile.php?id=100089471898590" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
                <li><a href="https://chat.whatsapp.com/FqMgPdtGjPN14xIts4wXgg" class="icon brands alt fa-whatsapp"><span class="label">WhatsApp</span></a></li>
                <li><a href="mailto:9jahotblog2@gmail.com" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
            </ul>
        </footer>
    </div>

    <script src="https://9jahotblog.github.io/assets/js/jquery.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/jquery.scrolly.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/jquery.dropotron.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/jquery.scrollex.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/browser.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/breakpoints.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/util.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/main.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, updateProfile } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, where, onSnapshot, updateDoc, doc, arrayUnion, deleteDoc } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCMmqClV71_VFyvShm7fWypPfg1t7ecVxg",
            authDomain: "game-earning-website.firebaseapp.com",
            projectId: "game-earning-website",
            storageBucket: "game-earning-website.appspot.com",
            messagingSenderId: "581912396287",
            appId: "1:581912396287:web:234fa03483d71115fc67ca"
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let currentUser = null;

        onAuthStateChanged(auth, (user) => {
    if (user) {
        currentUser = user;
        document.getElementById('auth-container').style.display = 'none';
        document.querySelector('.comment-section').style.display = 'block';
    } else {
        currentUser = null; // Ensure currentUser is null when logged out
        document.getElementById('auth-container').style.display = 'block';
        document.querySelector('.comment-section').style.display = 'block'; // Show comments section even if not logged in
    }
});

        // Handle Sign Up
        document.getElementById('signup-button').addEventListener('click', async () => {
            const email = document.getElementById('auth-email').value;
            const password = document.getElementById('auth-password').value;
            const username = document.getElementById('auth-username').value;
            const picUrl = document.getElementById('auth-pic-url').value;

            try {
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                currentUser = userCredential.user;

                await updateProfile(currentUser, { 
                    displayName: username, 
                    photoURL: picUrl 
                });

                await addDoc(collection(db, 'users'), {
                    uid: currentUser.uid,
                    username: username,
                    email: email,
                    photoURL: picUrl,
                    userLevel: '9jahotblogger'
                });
            } catch (error) {
                alert(error.message);
            }
        });
        
        // Handle Log In
        document.getElementById('login-button').addEventListener('click', async () => {
            const email = document.getElementById('auth-email').value;
            const password = document.getElementById('auth-password').value;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                document.querySelector('.comment-section').style.display = 'block';
                document.getElementById('auth-container').style.display = 'none';
            } catch (error) {
                alert(error.message);
            }
        });

        // Handle Posting Comments
        document.getElementById('comment-button').addEventListener('click', async () => {
    if (!currentUser) {
        alert('Please log in to post a comment.');
        return;
    }

    const commentText = document.getElementById('comment-input').value.trim();
    if (!commentText) {
        alert('Please write a comment.');
        return;
    }
            
            const articleId = 'articleId5'; // Unique identifier for the article/page

            const commentData = {
                text: commentText,
                userName: currentUser.displayName,
                userProfilePic: currentUser.photoURL,
                userId: currentUser.uid,
                timestamp: new Date(),
                articleId: articleId,
                replies: [],
                likes: [],
                helpful: [],
                notHelpful: [],
                userLevel: '9jahotblogger'
            };

            try {
                await addDoc(collection(db, 'comments'), commentData);
                document.getElementById('comment-input').value = ''; // Clear input after posting
                console.log("Comment posted successfully.");
            } catch (error) {
                console.error("Error posting comment: ", error);
            }
        });

        // Real-time listener for comments
const commentList = document.getElementById('comment-list');
const articleId = 'articleId5'; // Unique identifier for the article/page
const q = query(collection(db, 'comments'), where("articleId", "==", articleId));

onSnapshot(q, (snapshot) => {
    commentList.innerHTML = '';
    if (snapshot.empty) {
        console.log("No comments found.");
        return;
    }

    snapshot.forEach((doc) => {
        const comment = doc.data();
        const commentHtml = `
            <div class="comment">
                <img src="${comment.userProfilePic || ''}" alt="User Profile Pic" />
                <div>
                    <span class="comment-user">${comment.userName} 
                        <span class="custom-verified-badge"></span>
                    </span>
                    <p class="comment-text">${comment.text}</p>
                    <span class="comment-date">${new Date(comment.timestamp.seconds * 1000).toLocaleString()}</span>
                    <button class="like-button" data-id="${doc.id}">👍 (${comment.likes.length})</button>
                    <button class="helpful-button" data-id="${doc.id}">👏 (${comment.helpful.length})</button>
                    <button class="not-helpful-button" data-id="${doc.id}">🖕 (${comment.notHelpful.length})</button>
                    <button class="reply-button" data-id="${doc.id}">Reply</button>
                </div>
            </div>
        `;
        commentList.insertAdjacentHTML('beforeend', commentHtml);
    });

            addCommentListeners();
        });

        function addCommentListeners() {
            document.querySelectorAll('.like-button').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const commentId = event.target.dataset.id;
                    const commentRef = doc(db, 'comments', commentId);

                    try {
                        await updateDoc(commentRef, {
                            likes: arrayUnion(currentUser.uid)
                        });
                        console.log("Comment liked successfully.");
                    } catch (error) {
                        console.error("Error liking comment: ", error);
                    }
                });
            });

            document.querySelectorAll('.helpful-button').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const commentId = event.target.dataset.id;
                    const commentRef = doc(db, 'comments', commentId);

                    try {
                        await updateDoc(commentRef, {
                            helpful: arrayUnion(currentUser.uid)
                        });
                        console.log("Marked as helpful successfully.");
                    } catch (error) {
                        console.error("Error marking comment as helpful: ", error);
                    }
                });
            });

            document.querySelectorAll('.not-helpful-button').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const commentId = event.target.dataset.id;
                    const commentRef = doc(db, 'comments', commentId);

                    try {
                        await updateDoc(commentRef, {
                            notHelpful: arrayUnion(currentUser.uid)
                        });
                        console.log("Marked as not helpful successfully.");
                    } catch (error) {
                        console.error("Error marking comment as not helpful: ", error);
                    }
                });
            });

            document.querySelectorAll('.reply-button').forEach(button => {
                button.addEventListener('click', (event) => {
                    const replyBox = document.getElementById(`reply-box-${event.target.dataset.id}`);
                    replyBox.style.display = replyBox.style.display === 'none' ? 'block' : 'none';
                });
            });

            document.querySelectorAll('.submit-reply-button').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const commentId = event.target.closest('.reply-box').id.replace('reply-box-', '');
                    const replyText = event.target.previousElementSibling.value.trim();

                    if (!replyText) {
                        alert('Reply cannot be empty.');
                        return;
                    }

                    const replyData = {
                        text: replyText,
                        userName: currentUser.displayName,
                        userProfilePic: currentUser.photoURL,
                        timestamp: new Date()
                    };

                    try {
                        const commentRef = doc(db, 'comments', commentId);
                        await updateDoc(commentRef, {
                            replies: arrayUnion(replyData)
                        });
                        console.log("Reply added successfully.");
                        event.target.previousElementSibling.value = ''; // Clear reply input
                        const replyBox = document.getElementById(`reply-box-${commentId}`);
                        replyBox.style.display = 'none'; // Hide reply box after submitting
                    } catch (error) {
                        console.error("Error adding reply: ", error);
                    }
                });
            });

            // Admin delete functionality
            document.querySelectorAll('.delete-comment-button').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const commentId = event.target.dataset.id;

                    if (confirm("Are you sure you want to delete this comment?")) {
                        try {
                            await deleteDoc(doc(db, 'comments', commentId));
                            console.log("Comment deleted successfully.");
                        } catch (error) {
                            console.error("Error deleting comment: ", error);
                        }
                    }
                });
            });

            // Emoji suggestions functionality
            document.querySelectorAll('.emoji-suggestions span').forEach(emoji => {
                emoji.addEventListener('click', (event) => {
                    const emojiClicked = event.target.textContent.trim();
                    const commentInput = document.getElementById('comment-input');
                    commentInput.value += emojiClicked;
                    commentInput.focus(); // Refocus the input box
                });
            });
        }
    </script>
</body>
</html>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-38V179JCWD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-38V179JCWD');
      </script>
