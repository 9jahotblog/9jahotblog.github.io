<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>Read Jailer's Pen -- Unfortunate Love -- Short Story, Read Now. -- Kolawole Ayomide Morenikeji</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="https://9jahotblog.github.io/assets/css/main.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>

        .comment-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
        }
        .comment-input, .reply-input, .auth-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        .comment-button, .reply-button, .auth-button {
            background-color: #28a745;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
        }
        .comment {
            border-bottom: 1px solid #ddd;
            padding: 10px 0;
        }
        .comment img {
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-right: 10px;
        }
        .comment-user {
            font-weight: bold;
        }
        .comment-text {
            margin: 5px 0;
        }
        .comment-metadata {
            font-size: 12px;
            color: #888;
        }
        .reply-section {
            margin-left: 50px;
            border-left: 1px solid #ddd;
            padding-left: 20px;
        }
        .like-button, .helpful-button, .not-helpful-button {
            cursor: pointer;
            margin-right: 10px;
            font-size: 18px;
        }
        .badge {
            display: inline-block;
            padding: 5px;
            background-color: #28a745; /* Green color for 9jahotblogger badge */
            border-radius: 5px;
            margin-left: 10px;
            font-size: 12px;
            color: white;
        }
        .admin-badge {
            background-color: #007bff;
            margin-left: 5px;
            color: white;
        }
        .custom-verified-badge {
         display: inline-block;
         margin-left: 5px;
         width: 18px;
         height: 18px;
         background-image: url('https://i.postimg.cc/BvXX4ThD/images.png'); /* Custom blue badge icon URL */
         background-size: cover;
         background-repeat: no-repeat;
         background-position: center;
         border-radius: 50%; /* This makes the badge circular */
         vertical-align: middle;
        }
        .auth-input-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .emoji-suggestions {
            font-size: 18px;
            margin-top: 10px;
            cursor: pointer;
        }
        .emoji-suggestions span {
            margin-right: 10px;
        }
        .delete-comment-button {
            color: red;
            cursor: pointer;
            font-size: 12px;
            margin-left: 10px;
        }
    </style>
</head>

    <body class="is-preload landing">
    <div id="page-wrapper">

        <!-- Header -->
        <header id="header">
            <h1 id="logo"><a href="https://9jahotblog.github.io">9JAHOTBLOG</a></h1>
            <nav id="nav">
                <ul>
                    <li><a href="https://9jahotblog.github.io">Homepage</a></li>
                    <li>
                        <ul>
                            <li><a href="https://9jahotblog.github.io/submissions.html">Manuscript Submissions</a></li>
                            <li><a href="https://9jahotblog.github.io/short-story-submissions.html">Short Story Submissions</a></li>
                        </ul>
                    </li>
                    <li>
                        <ul>
                            <li><a href="https://9jahotblog.github.io/books.html">Library/Books</a></li>
                            <li><a href="https://9jahotblog.github.io/Articles/7-high-income-skills-to-learn.html">Blog (Articles/news/stories..)</a></li>
                            <li><a href="https://9jahotblog.github.io/book-checkout.html">Donate</a></li>
                            <li><a href="https://chat.whatsapp.com/FqMgPdtGjPN14xIts4wXgg">WhatsApp Community</a></li>
                            <li><a href="https://chat.whatsapp.com/JD8iFAZ67hTE8gYJKI5hfm">Join the Team (Volunteer)</a></li>
                        </ul>
                    </li>
                    <li><a href="https://9jahotblog.github.io/create-book-trailers-images-or-movies.html">Adapt Book to Movie</a></li>
                    <li><a href="https://9jahotblog.github.io/creative-contests.html">Participate in Creative Contests</a></li>
                    <li><a href="https://9jahotblog.github.io/nominate-your-book.html">Nominate your Book (Award)</a></li>
                    <li><a href="https://9jahotblog.github.io/profile.html">Visit Your Profile</a></li>
                    <li><a href="https://9jahotblog.github.io/login-page.html">Sign Up</a></li>
                    <li><a href="https://9jahotblog.github.io/login-page.html">Login</a></li>
                    <li><a href="https://9jahotblog.github.io/privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="https://9jahotblog.github.io/search-page.html">Search Page</a></li>
                </ul>
            </nav>
        </header>

        <!-- Main -->
        <div id="main" class="wrapper style1">
            <div class="container">
                <div class="w3-container w3-white w3-margin w3-padding-large">
                    <header class="major">
                        <h3>Read Jailer's Pen</h3>
                        <p>Unfortunate Love || Short Story</p>
                    </header>

                         <!-- Blog entry -->
<div class="w3-container w3-white w3-margin w3-padding-large" style="border: 1px solid #ddd; border-radius: 10px; padding: 20px;">
    <div class="w3-center">
        <h3>Jailer's Pen</h3></a>
        <h5>Unfortunate Love..<span class="w3-opacity"></span> || </h5>
    </div>
    
 <div class="w3-justify">
    <img src="https://i.postimg.cc/sD0NBgwV/IMG-20240828-WA0060.jpg" width="350" height="350" style="width:100%" class="w3-padding-16">
    <blockquote><i>Ai generated potrait.</i></blockquote>

     <p style="color:#0000FF"><strong>Unfortunate Love</strong></p>

<p>Immediately after the bell rang, the students in the art department started leaving, mostly in pairs, holding hands, which made it clear that most of them were best friends.</p>

<p>At James College, bullying was a natural phenomenon, mostly because the bullies were rich kids who thought they could have anything they wanted.</p>

<p>In the hallway, where students were coming and going, a boy was rolling on the floor as if he had been bitten by a python. No one dared to go near him because Clarkson was the one who had knocked him down.</p>

<p><strong>"Come on... get up and say that to my face again, you son of a bit*ch!"</strong> Clarkson yelled, kicking the boy again.</p>

<p>After beating the boy mercilessly, Clarkson finally let him go. But just as the boy was about to exit the door, Clarkson ran up to him, yanked his ear, and muttered, <strong>"Next time... you won't go home alive."</strong> He then let him go.</p>

<p>One by one, the students left the school premises, leaving only a few lingering around. Clarkson was sitting on a wooden bench with his friends when a beautiful girl walked past them. As she walked some distance away, one of Clarkson's friends pulled him up and urged him to follow her.</p>

<p><strong>"Hey! Bro... calm down,"</strong> Clarkson said, rolling his eyes.</p>

<p><strong>"Clark... follow this girl and talk to her now,"</strong> his friend insisted, pushing him forward.</p>

<p><strong>"Okay! Okay! Guys... I'll follow her, but pray she doesn't shout at me again today. If she does, I'll break all your bones,"</strong> Clarkson said before running after the girl.</p>

<p><strong>"Hey Jane!"</strong> Clarkson called out, grabbing the girl's butt.</p>

<p>Jane didn't waste a second before giving him a thunderous slap. <strong>"Are you mad? Didn't I tell you not to follow me around again? Idiot!"</strong> she yelled and walked away.</p>

<p>Clarkson's friends saw what happened and moved closer to console him, urging him not to give up.</p>

<p><strong>"Aren't you guys seeing how this babe is treating me?"</strong> Clarkson yelled.</p>

<p>The chubby boy, whom they called "Piggy," laid his hands on Clarkson's shoulder and whispered, <strong>"You can always eat your cake and have it if your cake was baked by the devil."</strong></p>

<p>They all laughed and walked out of the school premises together.</p>
*************
<p>Clarkson finally got home. Inside the big mansion, he was all alone. His parents had gone clubbing again and left him a letter.</p>

<p><strong>"Not again!"</strong> he yelled, throwing the letter away in frustration. After a few seconds, he realized he hadn't read the last line, so he picked it up and read it again: <strong>"BECAUSE YOU'RE NOTHING BUT A MISTAKE" ‚ÄîYOUR MOM.</strong></p>

<p>He squeezed the letter, threw it into the bin, and sat on the couch. He picked up his phone and dialed an unknown number. After speaking with the person for a few minutes, he hung up and went to his room.</p>

<p>After a while, the doorbell started ringing. Clarkson went downstairs to answer it, and to his surprise, the delivery person was Jane.</p>

<p><strong>"Oh my God, so... you sell chicken after school?"</strong> he laughed, mocking her.</p>

<p><strong>"Listen, I'm not here for that, just pay me my money and let me go,"</strong> Jane replied, clearly irritated.</p>

<p>Clarkson looked at her disinterestedly and told her to come inside to collect the money. Reluctantly, Jane followed him in and sat on the couch as instructed.</p>

<p>Minutes passed, and Jane grew impatient. She was confused about what was taking so long, so she decided to check on him. Climbing the stairs, she finally reached Clarkson's room.</p>

<p><strong>"Hey! You came in here to take a nap while you kept me waiting out there?"</strong> Jane yelled, angrily.</p>

<p>Clarkson lay still on the bed, like a lifeless log. Jane approached him, shouting, <strong>"Hey! Wake up!"</strong> But despite all her efforts, she realized Clarkson had passed out and was no longer breathing. Panic set in as she held a pillow tightly, tears streaming down her face.</p>

<p>Just then, Clarkson's parents burst into the room and found their son lifeless, with Jane clutching the pillow. They immediately called the cops, accusing Jane of smothering their son with the pillow.</p>
************
<p>After a swift trial, Jane was found guilty and sentenced to prison. She sat in her cell, feeling hopeless, when she noticed a plate of rice and chicken placed nearby with a key to the gate beside it. Eyeing the key suspiciously, she chose to ignore it, picking up the food instead and eating it in silence.</p>

<p>Jane spent ten long years in prison. One sunny day, a warden came to her cell and ordered her to get out. Confused, Jane asked why, but the warden shut her down.</p>

<p>Upon her release, it was explained to her that an autopsy report had revealed Clarkson had poisoned himself‚Äîhis death was a suicide, not a murder.</p>

<p>Jane smirked, feeling a twisted sense of vindication, and walked away, leaving the scene behind.</p>

<p>¬©Ô∏è Jailer's pen</p>
   
    <p><strong>DON'T FORGET TO LIKE, COMMENT & SHARE</strong></p>
</div>

        
        <div id="notification" style="display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: #4CAF50; color: white; padding: 10px 20px; border-radius: 5px; z-index: 1000;">
    Thank you for your feedback!
</div>

<!-- Writer Profile Button -->
<button id="profile-button" class="profile-button">Writer Profile</button>

<!-- Profile Modal (Hidden by default) -->
<div id="profile-modal" class="profile-modal">
    <div class="profile-content">
        <span id="close-modal" class="close-modal">&times;</span>
        <img src="https://i.postimg.cc/Sx5CB83v/IMG-20240402-WA0025-1.jpg" alt="Profile Picture" class="profile-pic">
        <h2 class="profile-name">Kolawole Ayomide Morenikeji<span class="custom-verified-badge"></span></h2>
        <p class="profile-bio"><strong>Jailer is an experienced writer who specializes in horror, humor, and romance.</p></strong>
        <p><strong> Joined, Jan 2023.</strong></p>
        <p><i class="fa fa-home fa-fw w3-margin-right w3-text-theme"></i> Ibadan, Nigeria</p>
        <p><strong>Verification Status:</strong> Verified‚ö°Ô∏è</p>
        
        <!-- Post Analytics Section -->
        <div class="post-analytics">
            <p><strong>Post Comments:</strong> N/A</p>
            <p><strong>Post Reach:</strong> N/A</p>
            <p><strong>Post Earnings:</strong> undisclosed</p>
        </div>

        <!-- Hire Button with Link -->
        <a href="https://wa.me/+2348123058964" class="hire-button">Hire for Job</a>
    </div>
</div>

<style>
    /* Button Styling */
    .profile-button {
        background-color: #28a745;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
    }

    /* Modal Styling */
    .profile-modal {
        display: none; /* Hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        justify-content: center;
        align-items: center;
    }

    .profile-content {
        background-color: black;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        width: 300px;
        position: relative;
        animation: slideIn 0.5s ease-in-out;
    }

    /* Slide-in Animation */
    @keyframes slideIn {
        from {
            transform: translateY(-50%);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    /* Profile Picture Styling */
    .profile-pic {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        margin-bottom: 15px;
    }

    /* Verified Badge Styling */
    .custom-verified-badge {
        display: inline-block;
        margin-left: 5px;
        width: 18px;
        height: 18px;
        background-image: url('https://i.postimg.cc/BvXX4ThD/images.png'); /* Custom blue badge icon URL */
        background-size: cover;
        background-repeat: no-repeat;
        vertical-align: middle;
    }

    /* Close Button Styling */
    .close-modal {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 24px;
        cursor: pointer;
    }

    /* Profile Name Styling */
    .profile-name {
        font-size: 22px;
        margin: 0;
    }

    /* Profile Bio Styling */
    .profile-bio {
        font-size: 14px;
        color: #666;
        margin: 15px 0;
    }

    /* Post Analytics Styling */
    .post-analytics {
        margin-top: 15px;
        text-align: left;
        font-size: 14px;
    }
    .post-analytics p {
        margin: 5px 0;
    }

    /* Hire Button Styling */
    .hire-button {
        display: inline-block;
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        text-decoration: none; /* Removes underline from the link */
        margin-top: 15px;
    }
</style>

<script>
    // JavaScript to handle modal display
    document.getElementById('profile-button').addEventListener('click', function() {
        document.getElementById('profile-modal').style.display = 'flex';
    });

    document.getElementById('close-modal').addEventListener('click', function() {
        document.getElementById('profile-modal').style.display = 'none';
    });

    // Close modal when clicking outside the modal content
    window.addEventListener('click', function(event) {
        if (event.target == document.getElementById('profile-modal')) {
            document.getElementById('profile-modal').style.display = 'none';
        }
    });
</script>
    
<div class="w3-container w3-padding-16 w3-border-top w3-margin-top">
    <div style="display: inline-block; vertical-align: top;">
        <button class="w3-button w3-round like-button" data-article-id="articleid34" onclick="likeFunction(this, 'articleid34')" style="background-color: #28a745; color: white; padding: 8px 15px; font-size: 14px;">
            <i class="fa fa-thumbs-up"></i> Like
        </button>
        <button class="w3-button w3-round dislike-button" data-article-id="articleid34" onclick="dislikeFunction(this, 'articleid34')" style="background-color: #dc3545; color: white; padding: 8px 15px; font-size: 14px; margin-top: 5px;">
            <i class="fa fa-thumbs-down"></i> Dislike
        </button>
    </div>
    <div style="float: right;">
        <button class="w3-button w3-round" style="background-color: #007bff; padding: 8px 15px; font-size: 14px;">
            <a href="https://9jahotblog.github.io/Stories/jailer-happy-death-day.html" style="color: white; text-decoration: none;">More From Jailer ¬ª</a>
        </button>
    </div>
    <div style="clear: both;"></div>
</div>
    </div>
         </div> 
            </div>
                </div>


<script>
    function showNotification(message) {
        const notification = document.getElementById('notification');
        notification.textContent = message;
        notification.style.display = 'block';
        setTimeout(() => {
            notification.style.display = 'none';
        }, 3000);
    }

    function saveUserChoice(articleId, choice) {
        localStorage.setItem(`userChoice-${articleId}`, choice);
    }

    function getUserChoice(articleId) {
        return localStorage.getItem(`userChoice-${articleId}`);
    }

    function likeFunction(button, articleId) {
        const userChoice = getUserChoice(articleId);

        if (userChoice !== 'liked') {
            saveUserChoice(articleId, 'liked');
            button.disabled = true;
            button.innerHTML = '<i class="fa fa-thumbs-up"></i> Liked';
            document.querySelector(`.dislike-button[data-article-id="${articleId}"]`).disabled = true;
            document.querySelector(`.dislike-button[data-article-id="${articleId}"]`).innerHTML = '<i class="fa fa-thumbs-down"></i> Dislike';
            showNotification('Thank you for liking this post! Please leave a comment');
        }
    }

    function dislikeFunction(button, articleId) {
        const userChoice = getUserChoice(articleId);

        if (userChoice !== 'disliked') {
            saveUserChoice(articleId, 'disliked');
            button.disabled = true;
            button.innerHTML = '<i class="fa fa-thumbs-down"></i> Disliked';
            document.querySelector(`.like-button[data-article-id="${articleId}"]`).disabled = true;
            document.querySelector(`.like-button[data-article-id="${articleId}"]`).innerHTML = '<i class="fa fa-thumbs-up"></i> Like';
            showNotification('Thank you for your feedback!');
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.like-button').forEach(button => {
            const articleId = button.getAttribute('data-article-id');
            const userChoice = getUserChoice(articleId);

            if (userChoice === 'liked') {
                button.disabled = true;
                button.innerHTML = '<i class="fa fa-thumbs-up"></i> Liked';
                document.querySelector(`.dislike-button[data-article-id="${articleId}"]`).disabled = true;
            } else if (userChoice === 'disliked') {
                document.querySelector(`.dislike-button[data-article-id="${articleId}"]`).disabled = true;
                document.querySelector(`.dislike-button[data-article-id="${articleId}"]`).innerHTML = '<i class="fa fa-thumbs-down"></i> Disliked';
                button.disabled = true;
            }
        });
    });
</script>


                      </div>
                    </div>
                </div>
            </div>
        </div>

                    <div class="w3-container w3-white w3-margin w3-padding-large" style="border: 1px solid #ddd; border-radius: 10px; padding: 20px;">
                    <div id="auth-container">
                        <h4>Sign Up or Log In to Comment</h4>
                        <p>No profile picture url? Go to <a href="https://postimg.cc">Postimg.cc</a>
                        Upload pic and get direct link url to paste here..</p>
                        <div class="auth-input-container">
                            <input type="email" id="auth-email" placeholder="Email" class="auth-input" />
                            <input type="password" id="auth-password" placeholder="Password" class="auth-input" />
                        </div>
                        <div class="auth-input-container">
                            <input type="text" id="auth-username" placeholder="Username (for Sign Up)" class="auth-input" />
                            <input type="text" id="auth-pic-url" placeholder="Profile Picture URL" class="auth-input" />
                        </div>
                        <button id="signup-button" class="auth-button">Sign Up</button>
                        <button id="login-button" class="auth-button">Log In</button>
                    </div>

                    <div class="comment-section" style="display:none;">
                        <h3>Comments</h3>
                        <div id="comment-list"></div>
                        <textarea id="comment-input" class="comment-input" placeholder="Write your comment here..."></textarea>
                        <button id="comment-button" class="comment-button">Post Comment</button>
                        <div class="emoji-suggestions">
                            <span>ü§£ü§£ü§£ü§£ü§£</span>
                            <span>üëèüëèüëèüëèüëè</span>
                            <span>üî•üî•üî•üî•üî•</span>
                            <span>ü•πü•πü•πü•πü•π</span>
                            <span>üôåüôåüôåüôåüôå</span>
                            <span>ü´°ü´°ü´°ü´°ü´°</span>
       
                            <!-- Add more emojis here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

        
<!-- Footer -->
        <footer id="footer">
            <ul class="icons">
                <li><a href="https://www.facebook.com/profile.php?id=100089471898590" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
                <li><a href="https://chat.whatsapp.com/FqMgPdtGjPN14xIts4wXgg" class="icon brands alt fa-whatsapp"><span class="label">WhatsApp</span></a></li>
                <li><a href="mailto:9jahotblog2@gmail.com" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
            </ul>
        </footer>
    </div>

    <script src="https://9jahotblog.github.io/assets/js/jquery.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/jquery.scrolly.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/jquery.dropotron.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/jquery.scrollex.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/browser.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/breakpoints.min.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/util.js"></script>
    <script src="https://9jahotblog.github.io/assets/js/main.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, updateProfile } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, where, onSnapshot, updateDoc, doc, arrayUnion, deleteDoc } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCMmqClV71_VFyvShm7fWypPfg1t7ecVxg",
            authDomain: "game-earning-website.firebaseapp.com",
            projectId: "game-earning-website",
            storageBucket: "game-earning-website.appspot.com",
            messagingSenderId: "581912396287",
            appId: "1:581912396287:web:234fa03483d71115fc67ca"
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let currentUser = null;

        onAuthStateChanged(auth, (user) => {
    if (user) {
        currentUser = user;
        document.getElementById('auth-container').style.display = 'none';
        document.querySelector('.comment-section').style.display = 'block';
    } else {
        currentUser = null; // Ensure currentUser is null when logged out
        document.getElementById('auth-container').style.display = 'block';
        document.querySelector('.comment-section').style.display = 'block'; // Show comments section even if not logged in
    }
});

        // Handle Sign Up
        document.getElementById('signup-button').addEventListener('click', async () => {
            const email = document.getElementById('auth-email').value;
            const password = document.getElementById('auth-password').value;
            const username = document.getElementById('auth-username').value;
            const picUrl = document.getElementById('auth-pic-url').value;

            try {
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                currentUser = userCredential.user;

                await updateProfile(currentUser, { 
                    displayName: username, 
                    photoURL: picUrl 
                });

                await addDoc(collection(db, 'users'), {
                    uid: currentUser.uid,
                    username: username,
                    email: email,
                    photoURL: picUrl,
                    userLevel: '9jahotblogger'
                });
            } catch (error) {
                alert(error.message);
            }
        });
        
        // Handle Log In
        document.getElementById('login-button').addEventListener('click', async () => {
            const email = document.getElementById('auth-email').value;
            const password = document.getElementById('auth-password').value;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                document.querySelector('.comment-section').style.display = 'block';
                document.getElementById('auth-container').style.display = 'none';
            } catch (error) {
                alert(error.message);
            }
        });

        // Handle Posting Comments
        document.getElementById('comment-button').addEventListener('click', async () => {
    if (!currentUser) {
        alert('Please log in to post a comment.');
        return;
    }

    const commentText = document.getElementById('comment-input').value.trim();
    if (!commentText) {
        alert('Please write a comment.');
        return;
    }
            
            const articleId = 'articleId4'; // Unique identifier for the article/page

            const commentData = {
                text: commentText,
                userName: currentUser.displayName,
                userProfilePic: currentUser.photoURL,
                userId: currentUser.uid,
                timestamp: new Date(),
                articleId: articleId,
                replies: [],
                likes: [],
                helpful: [],
                notHelpful: [],
                userLevel: '9jahotblogger'
            };

            try {
                await addDoc(collection(db, 'comments'), commentData);
                document.getElementById('comment-input').value = ''; // Clear input after posting
                console.log("Comment posted successfully.");
            } catch (error) {
                console.error("Error posting comment: ", error);
            }
        });

        // Real-time listener for comments
const commentList = document.getElementById('comment-list');
const articleId = 'articleId4'; // Unique identifier for the article/page
const q = query(collection(db, 'comments'), where("articleId", "==", articleId));

onSnapshot(q, (snapshot) => {
    commentList.innerHTML = '';
    if (snapshot.empty) {
        console.log("No comments found.");
        return;
    }

    snapshot.forEach((doc) => {
        const comment = doc.data();
        const commentHtml = `
            <div class="comment">
                <img src="${comment.userProfilePic || ''}" alt="User Profile Pic" />
                <div>
                    <span class="comment-user">${comment.userName} 
                        <span class="custom-verified-badge"></span>
                    </span>
                    <p class="comment-text">${comment.text}</p>
                    <span class="comment-date">${new Date(comment.timestamp.seconds * 1000).toLocaleString()}</span>
                    <button class="like-button" data-id="${doc.id}">üëç (${comment.likes.length})</button>
                    <button class="helpful-button" data-id="${doc.id}">üëè (${comment.helpful.length})</button>
                    <button class="not-helpful-button" data-id="${doc.id}">üñï (${comment.notHelpful.length})</button>
                    <button class="reply-button" data-id="${doc.id}">Reply</button>
                </div>
            </div>
        `;
        commentList.insertAdjacentHTML('beforeend', commentHtml);
    });

            addCommentListeners();
        });

        function addCommentListeners() {
            document.querySelectorAll('.like-button').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const commentId = event.target.dataset.id;
                    const commentRef = doc(db, 'comments', commentId);

                    try {
                        await updateDoc(commentRef, {
                            likes: arrayUnion(currentUser.uid)
                        });
                        console.log("Comment liked successfully.");
                    } catch (error) {
                        console.error("Error liking comment: ", error);
                    }
                });
            });

            document.querySelectorAll('.helpful-button').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const commentId = event.target.dataset.id;
                    const commentRef = doc(db, 'comments', commentId);

                    try {
                        await updateDoc(commentRef, {
                            helpful: arrayUnion(currentUser.uid)
                        });
                        console.log("Marked as helpful successfully.");
                    } catch (error) {
                        console.error("Error marking comment as helpful: ", error);
                    }
                });
            });

            document.querySelectorAll('.not-helpful-button').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const commentId = event.target.dataset.id;
                    const commentRef = doc(db, 'comments', commentId);

                    try {
                        await updateDoc(commentRef, {
                            notHelpful: arrayUnion(currentUser.uid)
                        });
                        console.log("Marked as not helpful successfully.");
                    } catch (error) {
                        console.error("Error marking comment as not helpful: ", error);
                    }
                });
            });

            document.querySelectorAll('.reply-button').forEach(button => {
                button.addEventListener('click', (event) => {
                    const replyBox = document.getElementById(`reply-box-${event.target.dataset.id}`);
                    replyBox.style.display = replyBox.style.display === 'none' ? 'block' : 'none';
                });
            });

            document.querySelectorAll('.submit-reply-button').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const commentId = event.target.closest('.reply-box').id.replace('reply-box-', '');
                    const replyText = event.target.previousElementSibling.value.trim();

                    if (!replyText) {
                        alert('Reply cannot be empty.');
                        return;
                    }

                    const replyData = {
                        text: replyText,
                        userName: currentUser.displayName,
                        userProfilePic: currentUser.photoURL,
                        timestamp: new Date()
                    };

                    try {
                        const commentRef = doc(db, 'comments', commentId);
                        await updateDoc(commentRef, {
                            replies: arrayUnion(replyData)
                        });
                        console.log("Reply added successfully.");
                        event.target.previousElementSibling.value = ''; // Clear reply input
                        const replyBox = document.getElementById(`reply-box-${commentId}`);
                        replyBox.style.display = 'none'; // Hide reply box after submitting
                    } catch (error) {
                        console.error("Error adding reply: ", error);
                    }
                });
            });

            // Admin delete functionality
            document.querySelectorAll('.delete-comment-button').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const commentId = event.target.dataset.id;

                    if (confirm("Are you sure you want to delete this comment?")) {
                        try {
                            await deleteDoc(doc(db, 'comments', commentId));
                            console.log("Comment deleted successfully.");
                        } catch (error) {
                            console.error("Error deleting comment: ", error);
                        }
                    }
                });
            });

            // Emoji suggestions functionality
            document.querySelectorAll('.emoji-suggestions span').forEach(emoji => {
                emoji.addEventListener('click', (event) => {
                    const emojiClicked = event.target.textContent.trim();
                    const commentInput = document.getElementById('comment-input');
                    commentInput.value += emojiClicked;
                    commentInput.focus(); // Refocus the input box
                });
            });
        }
    </script>
</body>
</html>
