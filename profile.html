<!DOCTYPE HTML>
<html>
<head>
    <title>My 9jahotblog Storybooks Profile</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
</head>
<body class="is-preload landing">
    <div id="page-wrapper">

        <!-- Header -->
        <header id="header">
            <h1 id="logo"><a href="index.html">9JAHOTBLOG</a></h1>
            <nav id="nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li>
                        <a href="https://9jahotblog.github.io/News/ronaldo-signs-al-nassr.html">Entertainment</a>
                        <ul>
                            <li><a href="#">Articles</a></li>
                            <li><a href="#">News</a></li>
                            <li><a href="#">Discussions</a></li>
                            <li>
                                <a href="#">Novels</a>
                                <ul>
                                    <li><a href="#">Fiction</a></li>
                                    <li><a href="#">Non-fiction</a></li>
                                    <li><a href="#">Allegory</a></li>
                                    <li><a href="#">Romance</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="#">Books</a></li>
                    <li><a href="#" class="button primary">Sign up</a></li>
                </ul>
            </nav>
        </header>

        <!-- Main -->
        <div id="main" class="wrapper style1">
            <div class="container">
                <header class="major">
                    <h1>Welcome to your profile</h1>
                    <p>Name: <span id="profile-name"></span></p>
                    <p>Username: <span id="profile-username"></span></p>
                    <p>Email: <span id="profile-email"></span></p>
                    <p>Date of Birth: <span id="profile-dob"></span></p>
                    <p>Country: <span id="profile-country"></span></p>
                    <button id="logout-button" class="button primary">Logout</button>
                </header>

                <!-- Text -->
                <section>
                    <div class="col-12"><span class="image fit"><img src="https://i.postimg.cc/MGyZg7kB/IMG-20240106-111157-774.jpg" alt="image1" /></span></div>
                    <h1>How to use 9jahotblog...</h1>
                    <hr />
                </section>
            </div>
        </div>

        <!-- Footer -->
        <footer id="footer">
            <ul class="icons">
                <li><a href="https://Twitter.com/koladhino" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
                <li><a href="https://www.facebook.com/profile.php?id=100092154756974" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
                <li><a href="https://Instagram.com/koladesworld" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
                <li><a href="https://github.com/philipsmith617" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
                <li><a href="mailto:9jahotblog2@gmail.com" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
            </ul>
            <ul class="copyright">
                <li>&copy; 9jahotblog. All rights reserved.</li><li>Design: <a href="https://wa.me/+2349160331432">Philip</a></li>
            </ul>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/jquery.dropotron.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>

    <!-- Firebase Integration -->
    <script type="module">
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";
        
        const auth = getAuth();
        const db = getFirestore();

        onAuthStateChanged(auth, async (user) => {
            if (user) {
                const userRef = doc(db, "users", user.uid);
                const userDoc = await getDoc(userRef);

                if (userDoc.exists()) {
                    const userData = userDoc.data();
                    document.getElementById('profile-name').innerText = userData.fullName || 'N/A';
                    document.getElementById('profile-username').innerText = userData.username || 'N/A';
                    document.getElementById('profile-email').innerText = user.email || 'N/A';
                    document.getElementById('profile-dob').innerText = userData.dateOfBirth || 'N/A';
                    document.getElementById('profile-country').innerText = userData.country || 'N/A';
                } else {
                    console.log('No such document!');
                }
            } else {
                window.location.href = 'index.html';
            }
        });

        document.getElementById('logout-button').addEventListener('click', () => {
            signOut(auth).then(() => {
                window.location.href = 'index.html';
            }).catch((error) => {
                console.error('Error signing out:', error);
            });
        });
    </script>
</body>
</html>
