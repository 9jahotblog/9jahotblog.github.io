<!DOCTYPE HTML>
<html>
<head>
    <title>My 9jahotblog Profile</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css" />
    </noscript>
    <style>
        body {
            transition: background-color 0.5s, color 0.5s;
        }

        .profile-container,
        .writing-container,
        .book-reader-container,
        .library-container {
            text-align: center;
            background-color: #111111;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: auto;
            margin-top: 20px;
            position: relative;
            color: #fff;
            font-family: 'Arial', sans-serif;
        }

        .profile-container img {
            border-radius: 50%;
            width: 80px;
            height: 80px;
        }

        .profile-container button,
        .writing-container button,
        .book-reader-container button,
        .theme-toggle {
            margin-top: 10px;
            background-color: #444;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .writing-container textarea {
            width: 100%;
            height: 200px;
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }

        .library-container img {
            width: 100px;
            height: 150px;
            margin: 10px;
            cursor: pointer;
        }

        .theme-toggle {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #444;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
        }

        #dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #444;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
        }

        footer {
            margin-top: 40px;
        }
    </style>
</head>

<body class="is-preload landing">
    <div id="page-wrapper">

        <!-- Header -->
        <header id="header">
            <h1 id="logo"><a href="index.html">9JAHOTBLOG</a></h1>
            <nav id="nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#writing-section">Publish Story</a></li>
                    <li><a href="#profile-section">Profile</a></li>
                    <li><a href="#library-section">Featured Story of the Month</a></li>
                    <li><a href="#benefits-section">Profile Benefits</a></li>
                </ul>
            </nav>
        </header>

        <!-- Main -->
        <div id="main" class="wrapper style1">
            <div class="container">
                <header class="major">
                    <h1>Welcome to 9jahotblog Storybooks, <span id="user-name"></span>!</h1>
                </header>

            <!-- Profile Section -->
<section id="profile-section">
    <div class="profile-container">
        <button class="theme-toggle">üåô</button>
        <div style="text-align: center;">
            <img id="profile-photo" src="https://via.placeholder.com/100" alt="Profile Picture" style="width: 100px; height: 100px; border-radius: 50%;" />
        </div>
        <p>Email: <span id="user-email"></span></p>
        <p>Username: <span id="user-username"></span></p>
        <p>Earnings: ‚Ç¶0.00</p>
        <p>Short Stories/Articles: N/A</p>
        <p>Books: N/A</p>
        <p>Level: <span id="user-level">9jahotblogger</span></p>
        <button id="edit-profile" class="btn btn-primary mt-3">Edit Profile</button>
        <button id="logout" class="btn btn-danger mt-2">Logout</button>
        <hr />
        <p style="font-size: 0.9em; color: #555;">Don't have a link for an image to display on your profile? Go to <a href="https://postimg.cc" target="_blank">postimg.cc</a>, upload an image, get the link, and paste it here. Your image will automatically display after refreshing.</p>
    </div>
</section>


                <!-- Library Section -->
                <section id="library-section">
                    <div class="library-container">
                        <h2>Featured Story of the Month</h2>
                        <img src="https://i.postimg.cc/VvSVHH3N/1722646756851.jpg" alt="Lone Ranger" style="border-radius: 0;" />
                        <h3>Lone Ranger</h3>
                        <p>by Praise Abraham</p>
                    </div>
                </section>

                <!-- Book Reader Section -->
<section id="book-reader-section">
    <div class="book-reader-container">
        <button class="theme-toggle">üåô</button>
        <h2>Book Reader</h2>
        <div id="book-content">
            <p id="book-page"></p>
        </div>
        <button id="prev-page">Previous</button>
        <button id="next-page">Next</button>
    </div>
</section>


                <!-- Writing Prompt and Textbox Section -->
                <section id="writing-section">
                    <div class="writing-container">
                        <button class="theme-toggle">üåô</button>
                        <form action="https://formspree.io/f/mldrbpwo" method="POST">
                            <h2>Writing Prompt</h2>
                            <p> Before publishing your story please ensure you've proofread and added all details.</p>
                            <p id="writing-prompt">Click the button to get a new prompt!</p>
                            <button type="button" id="new-prompt-btn">New Prompt</button>
                            <textarea id="writing-textbox" name="content" placeholder="Start writing here..."></textarea>
                            <p id="word-count">Word count: 0</p>
                            <p id="congratulatory-message"></p>
                            <button type="submit" id="publish-story">Publish Story</button>
                        </form>
                    </div>
                </section>

                <!-- Text-to-Speech Section-->
                  
            <section id="tts-section">
    <div class="profile-container">
        <h2>9jahotblog Audiobook Ai</h2>
        <p> Input text to read in box.. Click "Allow", when prompted to.</p>
        <div id="tts-input" contenteditable="true" style="width: 100%; height: 200px; border: 1px solid #ccc; margin-bottom: 10px; overflow-y: scroll;"></div>
        <div>
            <button id="convert-speech">Convert to Speech</button>
            <button id="pause-speech">Pause</button>
            <button id="continue-speech">Continue</button>
            <button id="stop-speech">Stop</button>
            <button id="download-speech">Download Audio</button>
            <button id="download-text">Download Text</button>
        </div>
    </div>
</section>

<script>
    let utterances = [];
    let currentIndex = 0;
    let mediaRecorder;
    let audioChunks = [];

    // Function to highlight spoken text
    function highlightSpokenText(text, utterance) {
        let currentIndex = 0;
        const words = text.split(' ');

        utterance.onboundary = function(event) {
            if (event.name === 'word') {
                const span = document.createElement('span');
                span.style.backgroundColor = 'black'; // Darker background
                span.style.color = 'white'; // White text
                span.textContent = words[currentIndex] + ' ';
                words[currentIndex] = span.outerHTML;
                document.getElementById('tts-input').innerHTML = words.join(' ');
                currentIndex++;

                // Scroll to the highlighted word
                const ttsInput = document.getElementById('tts-input');
                const highlightedWord = ttsInput.querySelector('span[style*="background-color: black;"]');
                if (highlightedWord) {
                    ttsInput.scrollTop = highlightedWord.offsetTop - ttsInput.offsetTop;
                }
            }
        };
    }

    // Function to create and configure a SpeechSynthesisUtterance
    function createUtterance(text, voice) {
        const msg = new SpeechSynthesisUtterance(text);
        msg.voice = voice; // Voice configuration
        return msg;
    }

    // Function to speak text with selected voice
    function speakText(voice) {
        const text = document.getElementById('tts-input').innerText;

        if (text.trim() !== "") {
            const utterance = createUtterance(text, voice);
            utterance.onend = () => {
                if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                    mediaRecorder.stop();
                }
            };

            highlightSpokenText(text, utterance);
            window.speechSynthesis.speak(utterance);

            // Start recording audio
            if (mediaRecorder && mediaRecorder.state === 'inactive') {
                mediaRecorder.start();
            }
        } else {
            alert("Please enter some text to convert to speech.");
        }
    }

    // Function to handle audio recording
    function startRecording() {
        audioChunks = [];
        navigator.mediaDevices.getUserMedia({ audio: true }).then(stream => {
            mediaRecorder = new MediaRecorder(stream, { mimeType: 'audio/webm' });

            mediaRecorder.ondataavailable = event => {
                if (event.data.size > 0) {
                    audioChunks.push(event.data);
                }
            };

            mediaRecorder.onstop = () => {
                const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
                const audioUrl = URL.createObjectURL(audioBlob);
                const a = document.createElement('a');
                a.style.display = 'none';
                a.href = audioUrl;
                a.download = 'spoken_audio.webm';
                document.body.appendChild(a);
                a.click();
                URL.revokeObjectURL(audioUrl);
            };
        });
    }

    // Function to download text input
    function downloadTextInput() {
        const text = document.getElementById('tts-input').innerText;
        if (text.trim() !== "") {
            const textToSave = text + "\n\nGenerated by 9jahotblog Storybooks";
            const textBlob = new Blob([textToSave], { type: 'text/plain' });
            const textUrl = URL.createObjectURL(textBlob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = textUrl;
            a.download = 'input_text.txt';
            document.body.appendChild(a);
            a.click();
            URL.revokeObjectURL(textUrl);
        } else {
            alert("Please enter some text to download.");
        }
    }

    // Load voices and configure voice options
    function loadVoices() {
        const voices = window.speechSynthesis.getVoices();
        return voices[0] || null; // Default to the first available voice
    }

    // Event listeners for TTS buttons
    document.getElementById('convert-speech').addEventListener('click', () => {
        window.speechSynthesis.cancel();
        startRecording();
        const voice = loadVoices();
        if (voice) {
            speakText(voice);
        } else {
            alert("No voice available for speech synthesis.");
        }
    });

    document.getElementById('pause-speech').addEventListener('click', () => {
        window.speechSynthesis.pause();
        if (mediaRecorder && mediaRecorder.state === 'recording') {
            mediaRecorder.pause();
        }
    });

    document.getElementById('continue-speech').addEventListener('click', () => {
        window.speechSynthesis.resume();
        if (mediaRecorder && mediaRecorder.state === 'paused') {
            mediaRecorder.resume();
        }
    });

    document.getElementById('stop-speech').addEventListener('click', () => {
        window.speechSynthesis.cancel();
        if (mediaRecorder && mediaRecorder.state !== 'inactive') {
            mediaRecorder.stop();
        }
    });

    document.getElementById('download-speech').addEventListener('click', () => {
        if (mediaRecorder && mediaRecorder.state !== 'inactive') {
            mediaRecorder.stop();
        } else {
            alert("No audio to download. Please convert text to speech first.");
        }
    });

    document.getElementById('download-text').addEventListener('click', () => {
        downloadTextInput();
    });

    // Load voices when the voices are loaded
    window.speechSynthesis.onvoiceschanged = loadVoices;

    document.addEventListener("DOMContentLoaded", function() {
        if (window.speechSynthesis.onvoiceschanged !== undefined) {
            window.speechSynthesis.onvoiceschanged = loadVoices;
        }
    });
</script>

        <style>
        body.dark-theme {
            background-color: #121212;
            color: #ffffff;
        }

        .dark-theme .profile-container {
            background-color: #1e1e1e;
            border-color: #333;
        }

        .dark-theme #game-display,
        .dark-theme #chat-box {
            background-color: #2e2e2e;
            border-color: #444;
        }

        .dark-theme input,
        .dark-theme textarea {
            background-color: #3e3e3e;
            color: #fff;
            border-color: #555;
        }

        .dark-theme button {
            background-color: #444;
            color: #fff;
            border-color: #555;
        }
    </style>

<body>
    <section id="start-game">
        <div class="profile-container">
            <h2>Welcome to the Mystery Writer Challenge</h2>
            <button id="start-button">Start Game</button>
        </div>
    </section>

    <section id="mystery-writer" style="display: none;">
        <div class="profile-container">
            <button class="theme-toggle">üåô</button>
            <h2 id="story-title">Mysterious Game!</h2>
            <p id="intro">Hello, <span id="user-username"></span>! Welcome to the Mystery Writer Challenge. I'm the mysterious 9jahotblog AI, your assistant through this exciting game. Your mission is to uncover the secrets hidden within these mysteries.</p>
            <div id="game-display" style="height: 300px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;"></div>
            <textarea id="user-input" placeholder="Type your response here..." style="width: 100%; height: 100px; margin-bottom: 10px;"></textarea>
            <div>
                <button id="submit-challenge">Submit</button>
                <button id="next-level" style="display: none;">Next Level</button>
            </div>
            <div id="feedback" style="margin-top: 10px;"></div>
            <div id="final-message" style="display: none;">
                <p>Congratulations, you've completed this level of the challenge! Would you like to continue or stop and claim data bonus? üì±üéâ</p>
                <button id="continue-game">Continue</button>
                <button id="stop-game">Stop and Claim Bonus</button>
            </div>
            <div id="end-game" style="display: none;">
                <p>You just won <span id="total-data-reward"></span> worth of data! You're a writing machine! Click <a href="https://wa.me/+2349160331432">here</a> to claim your prize. üèÜüì≤ Download your story responses as proof to get bonus from support.</p>
                <button id="download-txt">Download My Story (TXT)</button>
                <button id="download-word">Download My Story (Word)</button>
            </div>
        </div>
    </section>

    <script>
    const levels = {
        "Ancient Mystery": [
            { prompt: "Level 1: You find an old map. What do you do?", successKeywords: ['follow', 'map', 'explore', 'track', 'trace', 'discover'], failureMessage: "You missed the treasure!", successMessage: "You follow the map and find the hidden treasure! üíé" },
            { prompt: "Level 2: The treasure is guarded by a riddle. Solve it to proceed.", successKeywords: ['solve', 'riddle', 'answer', 'decipher', 'unravel', 'interpret'], failureMessage: "You couldn't solve the riddle.", successMessage: "You solve the riddle and the treasure is yours! üéâ" },
            { prompt: "Level 3: A trap is triggered! How do you escape?", successKeywords: ['escape', 'dodge', 'avoid', 'flee', 'evade', 'run'], failureMessage: "You got caught in the trap!", successMessage: "You successfully escape the trap! üèÉ" },
            { prompt: "Level 4: You encounter a guardian. Convince him to let you pass.", successKeywords: ['convince', 'talk', 'negotiate', 'persuade', 'reason', 'argue'], failureMessage: "The guardian doesn't let you pass.", successMessage: "You convince the guardian and he lets you pass! üõ°Ô∏è" },
            { prompt: "Level 5: The final treasure room is ahead. What's your plan?", successKeywords: ['plan', 'strategy', 'approach', 'tactic', 'scheme', 'method'], failureMessage: "Your plan fails.", successMessage: "Your plan works and you get the final treasure! üèÜ" },
            { prompt: "Level 6: A rival treasure hunter appears. What's your move?", successKeywords: ['confront', 'ally', 'outsmart', 'compete', 'challenge', 'defeat'], failureMessage: "The rival takes the treasure.", successMessage: "You outsmart the rival and secure the treasure! üéñÔ∏è" }
        ],
        "Modern Detective": [
            { prompt: "Level 1: A mysterious letter arrives at your office. What do you do?", successKeywords: ['open', 'read', 'analyze', 'examine', 'inspect', 'investigate'], failureMessage: "The letter self-destructs.", successMessage: "You analyze the letter and find a clue! üîç" },
            { prompt: "Level 2: You need to tail a suspect. How do you proceed?", successKeywords: ['follow', 'discreet', 'observe', 'shadow', 'track', 'monitor'], failureMessage: "You lose the suspect.", successMessage: "You follow the suspect and gather evidence! üì∏" },
            { prompt: "Level 3: The suspect enters a secure building. What's your plan?", successKeywords: ['infiltrate', 'sneak', 'access', 'enter', 'penetrate', 'bypass'], failureMessage: "You get caught at the entrance.", successMessage: "You sneak in successfully and continue your investigation! üïµÔ∏è" },
            { prompt: "Level 4: A crucial witness is uncooperative. How do you get them to talk?", successKeywords: ['persuade', 'question', 'interrogate', 'convince', 'coax', 'charm'], failureMessage: "The witness stays silent.", successMessage: "You persuade the witness to share valuable information! üí¨" },
            { prompt: "Level 5: The suspect is on the move again. What do you do?", successKeywords: ['track', 'monitor', 'chase', 'pursue', 'follow', 'shadow'], failureMessage: "You lose track of the suspect.", successMessage: "You track the suspect to their hideout! üèöÔ∏è" },
            { prompt: "Level 6: It's time to apprehend the suspect. How do you proceed?", successKeywords: ['arrest', 'confront', 'capture', 'detain', 'apprehend', 'seize'], failureMessage: "The suspect escapes.", successMessage: "You successfully apprehend the suspect! üöì" }
        ],
        "Sci-Fi Adventure": [
            { prompt: "Level 1: Your spaceship encounters a mysterious signal. What do you do?", successKeywords: ['investigate', 'analyze', 'examine', 'inspect', 'explore', 'decode'], failureMessage: "You ignore the signal and miss an opportunity.", successMessage: "You investigate the signal and discover a new planet! üåç" },
            { prompt: "Level 2: An alien ship approaches. What's your next move?", successKeywords: ['communicate', 'contact', 'approach', 'greet', 'hail', 'signal'], failureMessage: "The alien ship attacks.", successMessage: "You successfully communicate and establish friendly contact! üëΩ" },
            { prompt: "Level 3: A system malfunction occurs. How do you handle it?", successKeywords: ['repair', 'fix', 'resolve', 'troubleshoot', 'diagnose', 'patch'], failureMessage: "The malfunction worsens.", successMessage: "You successfully repair the malfunction and restore the ship's functions! üõ†Ô∏è" },
            { prompt: "Level 4: You encounter an unknown space anomaly. What's your plan?", successKeywords: ['analyze', 'study', 'research', 'examine', 'investigate', 'observe'], failureMessage: "The anomaly damages your ship.", successMessage: "You analyze the anomaly and navigate safely! üåå" },
            { prompt: "Level 5: You need to make a crucial decision to save your crew. What do you do?", successKeywords: ['decide', 'choose', 'plan', 'execute', 'act', 'lead'], failureMessage: "Your decision leads to a crisis.", successMessage: "Your decision saves the crew and the mission continues! üë©‚ÄçüöÄüë®‚ÄçüöÄ" },
            { prompt: "Level 6: You discover a habitable planet. How do you proceed?", successKeywords: ['explore', 'land', 'survey', 'investigate', 'settle', 'colonize'], failureMessage: "Your landing attempt fails.", successMessage: "You successfully land and begin exploring the new planet! üåçüöÄ" },
            { prompt: "Level 7: You find alien technology on the planet. What's your next step?", successKeywords: ['study', 'analyze', 'reverse-engineer', 'examine', 'utilize', 'exploit'], failureMessage: "The technology backfires.", successMessage: "You harness the alien technology and make groundbreaking discoveries! üõ∏‚ú®" }
        ],
        "Haunted House": [
            { prompt: "Level 1: You enter an old, abandoned house at midnight. You hear strange noises. What's your first move? üèöÔ∏èüëª", successKeywords: ['explore', 'investigate', 'search', 'look', 'observe', 'inspect'], failureMessage: "You run away scared and miss crucial clues.", successMessage: "You bravely explore and find an old diary! üìñ" },
            { prompt: "Level 2: The diary hints at a hidden room. How do you find it? üììüïµÔ∏è‚Äç‚ôÇÔ∏è", successKeywords: ['search', 'explore', 'investigate', 'look', 'inspect', 'examine'], failureMessage: "You fail to find the hidden room.", successMessage: "You discover the hidden room behind a bookcase! üìö" },
            { prompt: "Level 3: You hear footsteps behind you. How do you handle it? üë£üò®", successKeywords: ['turn', 'look', 'confront', 'investigate', 'face', 'check'], failureMessage: "You freeze in fear and miss important details.", successMessage: "You turn around and see a friendly ghost guiding you! üëªüòä" },
            { prompt: "Level 4: You find a locked chest. What do you do? üóùÔ∏èüîí", successKeywords: ['open', 'unlock', 'break', 'investigate', 'search', 'find'], failureMessage: "You give up on the chest.", successMessage: "You open the chest and find ancient relics! üè∫" },
            { prompt: "Level 5: The ghost reveals a secret passage. Do you enter? üëªüö™", successKeywords: ['enter', 'explore', 'go', 'proceed', 'venture', 'investigate'], failureMessage: "You hesitate and miss the opportunity.", successMessage: "You enter and find a hidden underground chamber! üï≥Ô∏è" },
            { prompt: "Level 6: The chamber has strange symbols. How do you decipher them? üîÆüìú", successKeywords: ['decipher', 'interpret', 'translate', 'study', 'analyze', 'examine'], failureMessage: "You fail to understand the symbols.", successMessage: "You decipher the symbols and reveal a hidden treasure! üíé" },
            { prompt: "Level 7: The treasure is cursed! How do you lift the curse? üò±üßø", successKeywords: ['break', 'lift', 'dispel', 'remove', 'cleanse', 'destroy'], failureMessage: "You trigger the curse and face dire consequences.", successMessage: "You lift the curse and claim the treasure safely! üèÜ" }
        ],
        "Time Travel": [
            { prompt: "Level 1: You discover a time machine. What year do you travel to first? üï∞Ô∏èüöÄ", successKeywords: ['future', 'past', 'ancient', 'medieval', 'modern', 'prehistoric'], failureMessage: "You hesitate and the machine shuts down.", successMessage: "You set the time machine and travel to an exciting era! üåê" },
            { prompt: "Level 2: You meet a famous historical figure. How do you introduce yourself? üßë‚Äçüé§üèõÔ∏è", successKeywords: ['introduce', 'greet', 'meet', 'present', 'approach', 'engage'], failureMessage: "You fail to make a good impression.", successMessage: "You introduce yourself and gain valuable insights! üß†" },
            { prompt: "Level 3: A crucial event is about to occur. Do you intervene? üå™Ô∏è‚è≥", successKeywords: ['intervene', 'help', 'assist', 'stop', 'prevent', 'act'], failureMessage: "You miss the opportunity to make a difference.", successMessage: "You intervene and change the course of history! üìú" },
            { prompt: "Level 4: Your time machine malfunctions. How do you fix it? üõ†Ô∏èüï∞Ô∏è", successKeywords: ['repair', 'fix', 'resolve', 'troubleshoot', 'diagnose', 'patch'], failureMessage: "The malfunction worsens.", successMessage: "You successfully repair the time machine and resume your journey! üîß" },
            { prompt: "Level 5: You encounter a paradox. How do you resolve it? üîÑüåÄ", successKeywords: ['resolve', 'fix', 'solve', 'unravel', 'untangle', 'understand'], failureMessage: "The paradox causes a time loop.", successMessage: "You resolve the paradox and restore the timeline! üï∞Ô∏è‚ú®" },
            { prompt: "Level 6: You find yourself in a futuristic city. What's your first move? üåÉüöÄ", successKeywords: ['explore', 'investigate', 'look', 'observe', 'inspect', 'search'], failureMessage: "You get lost in the city.", successMessage: "You explore the city and uncover advanced technology! üèôÔ∏è" },
            { prompt: "Level 7: You must return to your own time. How do you ensure a safe trip back? üè†üï∞Ô∏è", successKeywords: ['return', 'travel', 'go', 'navigate', 'operate', 'use'], failureMessage: "You get stranded in another time.", successMessage: "You successfully navigate back to your own time and complete your adventure! üéâ" }
        ]
    };

    document.getElementById('start-button').addEventListener('click', startGame);
    document.querySelector('.theme-toggle').addEventListener('click', () => {
        document.body.classList.toggle('dark-theme');
    });

    let currentLevel = 0;
    let currentTopicIndex = 0;
    let storyLog = '';
    let totalDataReward = 0;
    const topics = Object.keys(levels);

    function startGame() {
        currentTopicIndex = 0;
        totalDataReward = 0;
        startTopic(topics[currentTopicIndex]);
    }

    function startTopic(topic) {
        currentLevel = 0;
        storyLog = '';
        document.getElementById('start-game').style.display = 'none';
        document.getElementById('mystery-writer').style.display = 'block';
        document.getElementById('story-title').textContent = topic; // Display story title
        // Ensure current-data-reward element is updated if used
        // document.getElementById('current-data-reward').textContent = `${totalDataReward}MB`;
        showPrompt();
    }

    function showPrompt() {
        const level = levels[topics[currentTopicIndex]][currentLevel];
        const gameDisplay = document.getElementById('game-display');
        gameDisplay.innerHTML = `<p>${level.prompt}</p>`;
    }

    document.getElementById('submit-challenge').addEventListener('click', () => {
        const userInput = document.getElementById('user-input').value.toLowerCase();
        const level = levels[topics[currentTopicIndex]][currentLevel];
        const success = level.successKeywords.some(keyword => userInput.includes(keyword));

        const gameDisplay = document.getElementById('game-display');
        const feedback = document.getElementById('feedback');

        gameDisplay.innerHTML += `<p>You: ${userInput}</p>`;
        gameDisplay.innerHTML += `<p>Analyzing...</p>`;

        setTimeout(() => {
            gameDisplay.innerHTML = gameDisplay.innerHTML.replace('<p>Analyzing...</p>', '');

            if (success) {
                storyLog += `${level.prompt}\n${level.successMessage}\n\n`;
                gameDisplay.innerHTML += `<p>${level.successMessage}</p>`;
                feedback.textContent = 'Success! üéâ Excellent descriptive power. Good job analyzing the situation.üëèüëèü´°';
                document.getElementById('next-level').style.display = 'block';
            } else {
                gameDisplay.innerHTML += `<p>${level.failureMessage}</p>`;
                feedback.textContent = 'Try again! ‚ùå You need to be more descriptive and specific, don\'t give up my friend! ‚úçÔ∏èüí™üèæüòä';
            }
        }, 2000); // 2-second delay to simulate analysis
    });

    document.getElementById('next-level').addEventListener('click', () => {
        currentLevel++;
        document.getElementById('user-input').value = '';
        document.getElementById('next-level').style.display = 'none';

        if (currentLevel < levels[topics[currentTopicIndex]].length) {
            showPrompt();
        } else {
            totalDataReward += 20;
            endStory();
        }
    });

    function endStory() {
        document.getElementById('final-message').style.display = 'block';
        document.getElementById('game-display').innerHTML += '<p>Well done! You completed all levels! üèÜ</p>';
    }

    document.getElementById('continue-game').addEventListener('click', () => {
        document.getElementById('final-message').style.display = 'none';
        if (currentTopicIndex < topics.length - 1) {
            currentTopicIndex++;
            startTopic(topics[currentTopicIndex]);
        } else {
            endGame();
        }
    });

    document.getElementById('stop-game').addEventListener('click', () => {
        endGame();
    });

    function endGame() {
        document.getElementById('end-game').style.display = 'block';
        document.getElementById('total-data-reward').textContent = `${totalDataReward}MB`;
    }

    document.getElementById('download-txt').addEventListener('click', () => {
        downloadResponses('txt');
    });

    document.getElementById('download-word').addEventListener('click', () => {
        downloadResponses('docx');
    });

    function downloadResponses(format) {
        const randomNumbers = Math.floor(Math.random() * 90000) + 10000;
        const finalLog = storyLog + `\nGenerated by 9jahotblog Storybooks ${randomNumbers}`;

        let element;
        if (format === 'txt') {
            const file = new Blob([finalLog], { type: 'text/plain' });
            element = document.createElement('a');
            element.href = URL.createObjectURL(file);
            element.download = 'story.txt';
        } else if (format === 'docx') {
            const file = new Blob([finalLog], { type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' });
            element = document.createElement('a');
            element.href = URL.createObjectURL(file);
            element.download = 'story.docx';
        }
        
        document.body.appendChild(element);
        element.click();
        document.body.removeChild(element);
    }
    </script>
</body>

                
          
        <!-- Tic-Tac-Toe Game Section -->
<section id="tic-tac-toe">
    <div class="profile-container">
        <h2>X and O Game (Tic-Tac-Toe)</h2>
        <button class="theme-toggle">üåô</button>
        <p>Welcome to the classic Tic-Tac-Toe game. Choose a mode to start playing.</p>
        
        <div id="menu">
            <button id="play-ai">Play with 9jahotblog AI</button>
            <button id="play-multiplayer">Play Multiplayer</button>
        </div>
        
        <div id="game-board" style="display: grid; grid-template-columns: repeat(3, 100px); gap: 5px; margin-top: 20px; display: none;">
            <!-- Game cells will be inserted here -->
        </div>
        
        <button id="reset-game" style="margin-top: 20px; display: none;">Reset Game</button>
        
        <div id="game-status" style="margin-top: 10px; font-weight: bold;"></div>
        <div id="score" style="margin-top: 10px;">Score: <span id="player-score">0</span> - <span id="ai-score">0</span></div>
        <div id="timer" style="margin-top: 10px;">Time: <span id="time">00:00</span></div>
    </div>
</section>

<script>
    const gameBoard = document.getElementById('game-board');
    const gameStatus = document.getElementById('game-status');
    const resetButton = document.getElementById('reset-game');
    const playAiButton = document.getElementById('play-ai');
    const playMultiplayerButton = document.getElementById('play-multiplayer');
    const menu = document.getElementById('menu');
    const playerScoreDisplay = document.getElementById('player-score');
    const aiScoreDisplay = document.getElementById('ai-score');
    const timerDisplay = document.getElementById('time');
    
    let board;
    let currentPlayer;
    let gameMode;
    let playerScore = 0;
    let aiScore = 0;
    let timer;
    let time;
    let gameTimeout;

    function initializeGame() {
        board = Array(9).fill(null);
        currentPlayer = 'X';
        gameStatus.innerText = `${gameMode === 'ai' ? "Your turn" : "Player X's turn"}`;
        gameBoard.innerHTML = '';
        resetButton.style.display = 'inline';
        menu.style.display = 'none';
        gameBoard.style.display = 'grid';
        time = 0;
        clearInterval(timer);
        clearTimeout(gameTimeout);
        timerDisplay.innerText = '00:00';
        startTimer();
        
        for (let i = 0; i < 9; i++) {
            const cell = document.createElement('div');
            cell.style.width = '100px';
            cell.style.height = '100px';
            cell.style.display = 'flex';
            cell.style.alignItems = 'center';
            cell.style.justifyContent = 'center';
            cell.style.border = '1px solid #000';
            cell.style.fontSize = '24px';
            cell.style.cursor = 'pointer';
            cell.dataset.index = i;
            cell.addEventListener('click', handleCellClick);
            gameBoard.appendChild(cell);
        }
    }

    function handleCellClick(event) {
        const cell = event.target;
        const index = cell.dataset.index;
        
        if (!board[index] && (gameMode === 'multiplayer' || currentPlayer === 'X')) {
            makeMove(index, currentPlayer);
            if (gameMode === 'ai' && currentPlayer === 'O') {
                setTimeout(makeAiMove, 500);
            }
        }
    }

    function makeMove(index, player) {
        board[index] = player;
        gameBoard.children[index].innerText = player;
        if (checkWin(player)) {
            displayResult(player);
        } else if (board.every(cell => cell)) {
            gameStatus.innerText = "It's a tie!";
            displayCelebration();
        } else {
            currentPlayer = player === 'X' ? 'O' : 'X';
            gameStatus.innerText = `${currentPlayer === 'X' ? (gameMode === 'ai' ? "Your turn" : "Player X's turn") : (gameMode === 'ai' ? "9jahotblog AI's turn" : "Player O's turn")}`;
        }
    }

    function makeAiMove() {
        const bestMove = getBestMove();
        makeMove(bestMove, 'O');
    }

    function getBestMove() {
        // Implementing a smarter AI using minimax algorithm
        let bestScore = -Infinity;
        let move;
        for (let i = 0; i < board.length; i++) {
            if (board[i] === null) {
                board[i] = 'O';
                let score = minimax(board, 0, false);
                board[i] = null;
                if (score > bestScore) {
                    bestScore = score;
                    move = i;
                }
            }
        }
        return move;
    }

    function minimax(board, depth, isMaximizing) {
        let scores = { 'O': 10, 'X': -10, 'tie': 0 };
        let result = checkWin('O') ? 'O' : checkWin('X') ? 'X' : board.every(cell => cell) ? 'tie' : null;
        if (result !== null) return scores[result];

        if (isMaximizing) {
            let bestScore = -Infinity;
            for (let i = 0; i < board.length; i++) {
                if (board[i] === null) {
                    board[i] = 'O';
                    let score = minimax(board, depth + 1, false);
                    board[i] = null;
                    bestScore = Math.max(score, bestScore);
                }
            }
            return bestScore;
        } else {
            let bestScore = Infinity;
            for (let i = 0; i < board.length; i++) {
                if (board[i] === null) {
                    board[i] = 'X';
                    let score = minimax(board, depth + 1, true);
                    board[i] = null;
                    bestScore = Math.min(score, bestScore);
                }
            }
            return bestScore;
        }
    }

    function checkWin(player) {
        const winningCombinations = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8],
            [0, 3, 6], [1, 4, 7], [2, 5, 8],
            [0, 4, 8], [2, 4, 6]
        ];
        
        return winningCombinations.some(combination => {
            return combination.every(index => board[index] === player);
        });
    }

    function displayResult(player) {
        if (player === 'X') {
            gameStatus.innerText = 'You win! üéâ';
            playerScore++;
        } else {
            gameStatus.innerText = '9jahotblog AI wins! It whooped you! üéÅ';
            aiScore++;
        }
        playerScoreDisplay.innerText = playerScore;
        aiScoreDisplay.innerText = aiScore;
        displayCelebration();
        clearInterval(timer);
        clearTimeout(gameTimeout);
    }

    function displayCelebration() {
        const celebration = document.createElement('div');
        celebration.innerText = 'üéâüéâüéâ';
        celebration.style.position = 'fixed';
        celebration.style.top = '50%';
        celebration.style.left = '50%';
        celebration.style.transform = 'translate(-50%, -50%)';
        celebration.style.fontSize = '48px';
        celebration.style.zIndex = '1000';
        document.body.appendChild(celebration);

        setTimeout(() => {
            document.body.removeChild(celebration);
        }, 2000); 
    }

    function startTimer() {
        timer = setInterval(() => {
            time++;
            const minutes = Math.floor(time / 60);
            const seconds = time % 60;
            timerDisplay.innerText = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }, 1000);
        
        gameTimeout = setTimeout(() => {
            gameStatus.innerText = "Time's up!";
            displayCelebration();
            clearInterval(timer);
        }, 10000);  // Game time limit set to 10 seconds
    }

    playAiButton.addEventListener('click', () => {
        gameMode = 'ai';
        initializeGame();
    });

    playMultiplayerButton.addEventListener('click', () => {
        gameMode = 'multiplayer';
        initializeGame();
    });

    resetButton.addEventListener('click', () => {
        menu.style.display = 'block';
        gameBoard.style.display = 'none';
        resetButton.style.display = 'none';
        clearInterval(timer);
        clearTimeout(gameTimeout);
        timerDisplay.innerText = '00:00';
        gameStatus.innerText = '';
    });
</script>
        
            

<!-- Plot Generator Game Section -->
<section id="plot-generator">
    <div class="profile-container">
        <h2>Plot Generator </h2>
        <button class="theme-toggle">üåô</button>
        <p>Welcome to the Plot Generator! Select your preferred genre and theme, and generate a unique story plot.</p>
        
        <div>
            <label for="genre">Select Genre:</label>
            <select id="genre">
                <option value="Fantasy">Fantasy</option>
                <option value="Science Fiction">Science Fiction</option>
                <option value="Mystery">Mystery</option>
                <option value="Romance">Romance</option>
                <option value="Horror">Horror</option>
                <option value="Drama">Drama</option>
                <option value="Comedy">Comedy</option>
                <option value="Billionaire Romance">Billionaire Romance</option>
                <option value="Anime">Anime</option>
                <option value="Humor">Humor</option>
                <option value="Superhero">Superhero</option>
                <option value="Young Adult">Young Adult</option>
            </select>
        </div>
        
        <button id="generate-plot">Generate Plot</button>
        
        <div id="plot-display" style="margin-top: 20px; border: 1px solid #ccc; padding: 10px; height: 150px; overflow-y: scroll;">
            <strong>Your Generated Plot:</strong>
            <p id="plot-content"></p>
        </div>
    </div>
</section>

<script>
    const plots = {
        "Fantasy": {
            "Adventure": [
    "A young farmhand named Eldric discovers an ancient amulet hidden in the fields. The amulet, imbued with sentient magic, warns Eldric of a looming threat‚Äîthe dark sorcerer Malakar, who seeks to engulf the kingdom of Valtoria in eternal darkness. Eldric, guided by the amulet, must gather allies and uncover his forgotten lineage to defeat Malakar before the final eclipse.",
    
    "In a world where magic is forbidden, a group of rebels called the Magelords seeks the fabled city of Astralyn, said to be buried beneath a desert of shifting sands. Astralyn holds the secrets of restoring magic to the world, but the journey is fraught with danger. The rebels must navigate treacherous terrain, outsmart the king's relentless hunters, and solve ancient riddles that guard the city's entrance.",
    
    "Exiled prince Kael returns to his homeland after years of wandering, only to find his kingdom, Eredor, under the iron grip of a dark force known as the Shadow Legion. To reclaim his throne, Kael must forge uneasy alliances with magical creatures, including a dragon bound by an ancient curse, and navigate the treachery of those who seek to use him as a pawn in their own power struggles.",
    
    "In the land of Valeria, where rival factions of mages and warriors have been at odds for centuries, a devastating prophecy threatens to annihilate both groups. A young mage, Seraphine, and a warrior named Darian are forced to put aside their deep-seated hatred and work together to decipher the cryptic prophecy. Their journey takes them through forgotten ruins, enchanted forests, and into the heart of a dormant volcano, where they must confront the source of the prophecy's power.",
    
    "The realm of Somnara is a place where dreams and reality intertwine. When a malevolent force begins turning dreams into nightmares that bleed into the real world, a group of adventurers is assembled to journey through the dreamscapes. Led by a dreamwalker named Lyra, the group must face their deepest fears, solve surreal puzzles, and outwit the Dream Thief, a creature who feeds on the nightmares of others, to prevent the collapse of both worlds.",
    
    "In the frozen wastelands of Northrend, a legendary artifact known as the Heart of Winter has been stolen by a ruthless warlord. The artifact holds the power to unleash a never-ending winter upon the world. A band of unlikely heroes, including a disgraced knight, a cunning rogue, and a reclusive ice mage, must trek through the deadly cold, battling frost giants and unraveling the warlord‚Äôs true intentions to retrieve the Heart before it‚Äôs too late.",
    
    "In the floating islands of Aetheria, airships are the only means of travel between the sky-bound cities. When an ancient map is discovered, detailing the location of the lost island of Elara, known to hold treasures beyond imagination, a daring captain named Captain Aria gathers a crew of misfits for the adventure of a lifetime. They must navigate deadly storms, evade sky pirates, and uncover the secrets of Elara, which may not be as abandoned as they thought.",
    
    "In the subterranean world of Deepforge, where dwarves mine the earth‚Äôs core for rare minerals, an ancient evil has awakened. The miners have unearthed a forgotten temple, and with it, a curse that turns them into mindless stone golems. A young dwarf named Thrain, who was spared the curse due to his mixed heritage, must delve deep into the caverns, battling the cursed miners and unlocking the secrets of his lineage to stop the spread of the curse.",
    
    "On the distant planet of Zelor, where technology and magic coexist, an interstellar explorer named Zara discovers a portal to another dimension. This dimension, known as the Abyss, is a place where reality bends, and time flows differently. Zara, along with a team of scientists and sorcerers, must explore the Abyss to find a way to harness its power. But the Abyss is home to creatures that defy understanding, and the deeper they go, the more they risk losing their sanity.",
    
    "In the kingdom of Lunaris, where the moon holds sway over magic, a lunar eclipse brings forth an ancient evil sealed away millennia ago. A young astronomer named Elara, who discovers the link between the eclipse and the awakening of this evil, is thrust into a race against time. With the help of a cursed knight bound to the moon‚Äôs cycle, Elara must find a way to reverse the eclipse and seal the evil once more before it consumes the kingdom.",
    
    "In the jungle-covered ruins of Zantora, a lost civilization‚Äôs greatest treasure is said to be guarded by the spirits of the ancients. An explorer named Marcus, driven by the desire to clear his family‚Äôs name, assembles a team of adventurers to retrieve the treasure. However, the spirits are not the only danger in Zantora‚Äîrival treasure hunters, ancient traps, and the jungle itself all conspire to stop them.",
    
    "The coastal city of Mareth is built upon the bones of an ancient leviathan, whose magic once protected the seas. When the leviathan‚Äôs heart is stolen by a group of sea witches, the city begins to sink into the ocean. A group of adventurers, including a pirate with a mysterious past, a sea sorcerer, and a runaway noble, must venture into the depths of the ocean to retrieve the heart and save the city, facing off against the creatures of the deep and the witches who seek to control the seas.",
    
    "In the desolate wastelands of Aridorn, where water is more precious than gold, a rumor of an oasis that never dries up has reached the ears of the desperate. A nomadic warrior named Kira, seeking to save her people, embarks on a perilous journey to find this oasis. Along the way, she encounters bandits, ancient guardians, and a cult that worships the oasis as a god. Kira must navigate the dangers of the desert and uncover the truth behind the oasis before it‚Äôs too late.",
    
    "In the steampunk city of Cogsworth, where the ruling council controls all technology, a brilliant inventor named Leo discovers a conspiracy that could plunge the city into chaos. With the help of a rogue pilot and an underground resistance group, Leo must outsmart the council‚Äôs enforcers, decode ancient blueprints, and build a machine that could either save the city or destroy it.",
    
    "In the magical forests of Eldoria, where the trees are said to whisper secrets to those who listen, a young druid named Aelwyn is tasked with finding the source of a blight that is killing the ancient trees. Aelwyn‚Äôs journey takes her deep into the heart of the forest, where she must communicate with the spirits of the trees, face creatures born of the blight, and confront a dark power that seeks to consume the forest and all who live within it.",
    
    "In the volcanic archipelago of Pyros, where fire and lava dominate the landscape, an ancient prophecy foretells the return of the Firelord, a being of immense power who once ruled the islands with an iron fist. A young fisherwoman named Kaida, who unknowingly carries the bloodline of the Firelord, must uncover the truth of her heritage and prevent the prophecy from coming true. Her journey will take her through fiery caverns, across molten seas, and into the heart of the volcano itself.",
    
    "On the icy tundra of Frostheim, where the nights last for months and the cold can kill in minutes, a group of explorers set out to find the lost city of Ymir, said to be buried beneath the ice. Led by a seasoned adventurer named Ingrid, the group must brave blizzards, ice monsters, and the treacherous crevasses of the glacier to reach Ymir. But as they draw closer to their goal, they begin to realize that something ancient and malevolent still dwells within the city.",
    
    "In the sprawling desert empire of Zarak, where sandstorms can bury entire cities, a legendary sword known as the Sunblade is said to grant its wielder the power to command the sun itself. A young thief named Jarek, driven by a prophecy that he is the chosen one to wield the Sunblade, sets out to find it. His quest will take him through ancient tombs, across deadly deserts, and into the heart of the empire, where he must confront a tyrant who seeks the Sunblade for his own dark purposes.",
    
    "In the highlands of Caledon, where the wind is said to carry the voices of the ancestors, a clan chief‚Äôs daughter named Brynn discovers that her homeland is on the brink of war with a neighboring kingdom. To prevent the war, Brynn must journey to the sacred Standing Stones, where she hopes to commune with the spirits of the past and uncover a way to unite the clans. Along the way, she faces rival clans, mystical creatures, and the harsh landscape of the highlands.",
    
    "In the ancient city of Kaerun, where the streets are lined with statues of forgotten heroes, a young historian named Lyra uncovers a map that leads to the fabled Tomb of Kings. Believing the tomb holds the key to preventing a looming invasion, Lyra sets out on an expedition with a group of mercenaries. They must navigate deadly traps, decipher ancient texts, and face the guardians of the tomb, who will stop at nothing to protect the secrets buried within."
],
            "Time Travel": [
                "A scientist accidentally travels 100 years into the past and must prevent a catastrophe that will alter the course of history.",
                "A time traveler from the future lands in a medieval kingdom and must use advanced technology to prevent a dark age.",
                "A historian discovers a time portal and must navigate different eras to recover stolen artifacts and restore the timeline.",
                "A teenager with time-traveling abilities must fix historical events they unintentionally changed, risking their own existence in the process.",
                "A group of explorers travels to different points in history, encountering famous figures and preventing a time-altering conspiracy."
            ],
            // Add more themes for Fantasy genre
        },
        "Science Fiction": {
            "Dystopian Future": [
                "In a future where society is divided into rigid classes, a young rebel leads an uprising against a totalitarian government controlling the populace with technology.",
                "A futuristic city is controlled by an oppressive regime that uses mind-control devices, and a group of hackers works to liberate the population.",
                "After a global environmental collapse, survivors live in a massive underground bunker, but a mysterious signal from the surface leads to dangerous exploration.",
                "In a world where AI has taken over, a rogue scientist tries to create a sentient being capable of leading a revolution against the machines.",
                "A dystopian society thrives on a fabricated reality, and a group of citizens begins to question the truth behind their existence and the world's true nature."
            ],
            "Space Opera": [
                "A spaceship crew must navigate a galaxy-wide conflict while uncovering a conspiracy that threatens the delicate balance of power between star systems.",
                "In a future where space travel is common, a diplomat must broker peace between warring alien races while dealing with internal political strife.",
                "An interstellar smuggler stumbles upon a secret that could change the fate of the universe and must decide whether to use it for personal gain or the greater good.",
                "A young cadet aboard a military spaceship must prove their worth as they uncover a hidden threat that could spell doom for the entire galaxy.",
                "In a galaxy where planets are governed by ancient alien relics, a group of rebels seeks to uncover the truth behind these artifacts and their creators."
            ],
            // Add more themes for Science Fiction genre
        },
        "Mystery": {
            "Classic Whodunit": [
                "A famous detective is called to a remote mansion where a high-profile guest is found dead. With a house full of suspects, they must unravel the clues to find the killer.",
                "During a prestigious gala, a renowned philanthropist is murdered, and a private investigator must sift through lies and secrets to uncover the truth.",
                "In a quaint village, a series of seemingly unrelated crimes occur, and an amateur sleuth must piece together the clues to solve the mystery before more damage is done.",
                "A young journalist investigates a string of disappearances linked to a mysterious old estate, uncovering hidden connections and long-buried secrets.",
                "A retired detective is pulled back into action when a copycat killer mimics their old cases, forcing them to confront their past and solve the new crimes."
            ],
            "Psychological Thriller": [
                "A brilliant psychologist becomes the target of a patient who has turned their sessions into a deadly game of cat and mouse.",
                "In a high-stakes mental game, a person with amnesia must unravel a web of deceit and psychological manipulation to discover their true identity.",
                "A psychiatrist is drawn into a complex murder case involving a patient with multiple personalities, each harboring different motives for the crime.",
                "A successful author finds themselves embroiled in a real-life mystery when their latest book's plot eerily mirrors a series of recent crimes.",
                "A detective suffering from PTSD must solve a high-profile kidnapping case while grappling with their own psychological demons and unraveling the truth."
            ],
            // Add more themes for Mystery genre
        },
        "Romance": {
            "Forbidden Love": [
                "Two lovers from feuding families must navigate societal pressures and dangerous alliances to be together, despite the obstacles and betrayals in their path.",
                "In a dystopian future where love is regulated by the state, a couple defies the system and embarks on a dangerous journey to find true freedom together.",
                "An aristocrat falls in love with a commoner in a strict social hierarchy, leading to a secret romance that threatens to upend their entire world.",
                "A successful businessperson falls for someone from a rival company, and their relationship must withstand corporate sabotage and familial expectations.",
                "Two people from different worlds meet under extraordinary circumstances and must overcome societal barriers and personal fears to build a life together."
            ],
            "Romantic Comedy": [
                "A clumsy but lovable matchmaker causes a series of hilarious misunderstandings and romantic entanglements while trying to find true love for their clients.",
                "An unlikely pair of co-workers are forced to participate in a fake relationship for a charity event, only to find their feelings becoming real amidst the chaos.",
                "In a city where romance is regulated by a dating app, two individuals with mismatched profiles find themselves in a series of comedic situations as they search for love.",
                "A wedding planner and a grumpy chef clash over the preparations for a high-profile event, only to discover their mutual dislike masks a deeper connection.",
                "Two rival food truck owners engage in a humorous battle for the best spot in town, but their competitive relationship turns into a surprising romance."
            ],
            // Add more themes for Romance genre
        },
        "Horror": {
            "Haunted House": [
                "A family moves into a historic mansion with a dark past, only to find themselves haunted by the spirits of its former inhabitants who have their own unfinished business.",
                "A group of friends explores an abandoned asylum rumored to be haunted, only to uncover a terrifying secret that binds them to the asylum forever.",
                "An old manor in a small town hides a sinister presence that awakens when a new family moves in, forcing them to confront the horrors that lurk in its shadows.",
                "A real estate agent becomes trapped in a cursed house while showing it to potential buyers, discovering the horrifying truth about its previous occupants.",
                "A team of paranormal investigators faces an evil entity that grows stronger with each attempt to communicate, leading to a fight for survival against a relentless force."
            ],
            "Psychological Horror": [
                "A person suffering from severe insomnia starts experiencing disturbing hallucinations that blur the line between reality and nightmare.",
                "A therapist finds themselves entangled in a patient‚Äôs dark fantasies that begin to manifest in their own life, unraveling their sanity with each passing day.",
                "In a remote cabin, a group of friends confronts their deepest fears as they are haunted by their own psychological traumas brought to life.",
                "A woman discovers disturbing recordings of herself speaking to an unknown entity, leading to a terrifying journey to uncover the source of the messages.",
                "After a traumatic event, a man starts receiving anonymous letters describing events that only he could know, leading him to question his own sanity and safety."
            ],
            // Add more themes for Horror genre
        },
        "Drama": {
            "Family Secrets": [
                "A family reunites for a long-awaited gathering, only to have buried secrets come to light, threatening to tear them apart and force them to confront their past.",
                "An adopted child begins to unravel the mystery of their origins, discovering long-hidden family secrets that challenge their identity and place within the family.",
                "A successful businessman must deal with the fallout when his estranged sibling returns with incriminating evidence that could ruin his career and personal life.",
                "During a high-stakes trial, a family‚Äôs dark past is exposed, leading to intense confrontations and revelations that change their lives forever.",
                "A journalist uncovers a family‚Äôs secret scandal that has been kept hidden for decades, leading to a dramatic confrontation and reevaluation of family loyalties."
            ],
            "Personal Redemption": [
                "A disgraced former athlete returns to their hometown to make amends for past mistakes, helping to revitalize the community and find personal redemption.",
                "After serving time in prison for a crime they didn‚Äôt commit, an individual struggles to rebuild their life and relationships, facing obstacles from those who still doubt their innocence.",
                "A successful but morally corrupt CEO must confront their past actions when a former employee exposes unethical practices, leading to a quest for personal and professional redemption.",
                "A recovering addict returns to their family, seeking forgiveness and a second chance while battling internal demons and external pressures.",
                "A retired soldier haunted by their past deeds embarks on a journey of self-discovery and forgiveness, helping others along the way to find their own paths to redemption."
            ],
            // Add more themes for Drama genre
        },
        "Comedy": {
            "Romantic Comedy": [
                "A socially awkward writer and a charming actor are forced to work together on a film script, leading to a series of comedic misadventures and unexpected romance.",
                "Two rival matchmakers find themselves competing to find the perfect partner for a high-profile client, resulting in humorous mishaps and a surprising romance.",
                "A clumsy but endearing protagonist accidentally ruins their best friend's wedding, leading to a series of comedic attempts to fix the situation and win back their friendship.",
                "An eccentric inventor and a pragmatic scientist must collaborate on a quirky project that leads to hilarious situations and an unexpected romantic connection.",
                "In a world where love is controlled by a government agency, two mismatched individuals rebel against the system, resulting in a humorous and heartfelt romance."
            ],
            "Workplace Humor": [
                "A newly hired employee finds themselves in the middle of an office rivalry, leading to a series of comedic misunderstandings and a surprising friendship with their nemesis.",
                "A group of quirky coworkers attempts to save their failing business through increasingly outrageous and humorous schemes, learning to work together in the process.",
                "An overzealous manager‚Äôs attempts to boost office morale lead to a series of hilarious team-building activities and unexpected consequences.",
                "In a high-stress corporate environment, an unlikely hero emerges from the janitorial staff, using humor and ingenuity to solve a critical problem.",
                "A tech startup faces a series of comical setbacks and miscommunications as the team navigates the challenges of launching their innovative product."
            ],
            // Add more themes for Comedy genre
        },
        "Billionaire Romance": {
            "Glamorous Lifestyle": [
                "A young aspiring artist finds themselves entangled in a whirlwind romance with a billionaire philanthropist, navigating the challenges of high society and personal values.",
                "An ambitious journalist uncovers a scandal involving a wealthy billionaire and falls in love with the enigmatic subject, leading to a romance filled with luxury and intrigue.",
                "A talented chef is recruited to cater a billionaire‚Äôs extravagant party, sparking a romance that must withstand the pressures of fame and fortune.",
                "A tech genius and a socialite engage in a heated rivalry that turns into a passionate romance, challenging both to balance their personal and professional lives.",
                "A successful entrepreneur and a struggling nonprofit director meet under unexpected circumstances, leading to a romance that bridges the gap between wealth and purpose."
            ],
            // Add more themes for Billionaire Romance genre
        },
        "Anime": {
            "Magical School": [
                "A teenager discovers they possess magical abilities and enrolls in a prestigious academy, where they must navigate intense training, friendships, and an impending dark threat.",
                "In a world where magic is common, a new student at a magical academy uncovers a conspiracy threatening the school‚Äôs safety and must rally classmates to save it.",
                "A young mage with a mysterious past joins a group of gifted students at a magical school, uncovering secrets about their lineage and facing a powerful adversary.",
                "An ordinary student is thrust into a magical academy after an accidental spell, leading to a journey of self-discovery and battle against dark forces threatening the realm.",
                "At a school for magic, a group of students discovers ancient artifacts that unlock hidden powers and uncover a long-forgotten prophecy about their destinies."
            ],
            // Add more themes for Anime genre
        },
        "Humor": {
            "Situational Comedy": [
                "A mismatched group of roommates navigates the challenges of cohabitation, leading to a series of humorous and heartwarming situations that bring them closer together.",
                "In a small town where everyone knows everyone, an outsider‚Äôs quirky behavior causes a series of comedic misunderstandings and unexpected friendships.",
                "A family with a history of eccentric behavior faces a series of comedic events during their annual reunion, leading to chaos and bonding over their shared quirks.",
                "A group of coworkers in a failing office must adapt to a series of bizarre new policies and management styles, leading to a humorous and chaotic workplace environment.",
                "A retired circus performer and a serious librarian become unlikely friends, leading to a series of comedic escapades that challenge their perspectives on life."
            ],
            // Add more themes for Humor genre
        },
        "Superhero": {
            "Origin Story": [
                "A regular person gains superpowers after a scientific accident and must learn to harness their abilities while facing a rising threat from an old nemesis.",
                "A young hero discovers their latent powers after surviving a near-death experience, leading to a journey of self-discovery and confrontation with a shadowy organization.",
                "An ordinary individual gains superpowers through a mystical artifact and must balance their new responsibilities with personal challenges and emerging villains.",
                "A superhero's origin is revealed through a series of flashbacks, detailing their rise from an average person to a powerful defender of justice and their struggles along the way.",
                "A team of friends acquires unique abilities after a cosmic event and must band together to form a new superhero group, learning to master their powers and fight a common enemy."
            ],
            "Team Dynamics": [
                "A team of diverse superheroes with clashing personalities must work together to thwart an apocalyptic threat, learning to trust and support each other in the process.",
                "In a city protected by a team of superheroes, internal conflicts and differing ideologies lead to tension as they confront a villain capable of dividing their unity.",
                "A newly formed superhero team struggles to balance their personal lives with their responsibilities, facing challenges both within and outside the group as they learn to function as a cohesive unit.",
                "An established superhero team faces a crisis of leadership when their founder is incapacitated, leading to a power struggle and a re-evaluation of their mission and goals.",
                "During a critical mission, a superhero team must overcome personal differences and grudges to prevent a global catastrophe, learning valuable lessons about teamwork and sacrifice."
            ],
            // Add more themes for Superhero genre
        },
        "Young Adult": {
            "Coming of Age": [
                "A teenager navigates the trials of high school while dealing with family issues, budding relationships, and the challenge of discovering their true self.",
                "In a world where everyone receives a unique gift at eighteen, a young adult struggles with their late blooming ability and the impact it has on their future.",
                "A group of friends faces the challenges of adolescence, including academic pressure, social dynamics, and personal growth, as they transition from high school to adulthood.",
                "A young person with a troubled past finds themselves in a new school and must overcome their history while forming new friendships and discovering their strengths.",
                "During a summer break, a group of teens embarks on a series of adventures that help them discover their passions, confront their fears, and prepare for the next stage of life."
            ],
            "Fantasy World": [
                "A group of high school friends discovers a hidden portal to a magical world where they must come of age while battling dark forces and uncovering their destinies.",
                "An ordinary student finds themselves transported to a fantasy realm where they must adapt to new rules and responsibilities while dealing with threats from an ancient evil.",
                "A teenager with a mysterious family legacy is drawn into a magical world that mirrors their own, leading to a journey of self-discovery and heroism against a looming threat.",
                "A young person accidentally uncovers their hidden magical heritage and must navigate a fantastical world of ancient creatures and epic quests to protect their realm.",
                "In a realm where dreams and reality intertwine, a group of teenagers must solve an ancient riddle to prevent a magical catastrophe that could end their world."
            ],
            // Add more themes for Young Adult genre
        }
    };

    document.getElementById('generate-plot').addEventListener('click', () => {
    const genre = document.getElementById('genre').value;
    const genrePlots = plots[genre] || {};
    
    // Get all themes from the selected genre
    const allThemes = Object.values(genrePlots).flat();
    
    if (allThemes.length > 0) {
        const randomPlot = allThemes[Math.floor(Math.random() * allThemes.length)];
        document.getElementById('plot-content').innerText = `Genre: ${genre}\nPlot: ${randomPlot}`;
    } else {
        document.getElementById('plot-content').innerText = `No plots available for the selected genre.`;
    }
});
</script> 



<!-- Mystery Puzzle Game Section -->
<section id="mystery-puzzle-game-section">
    <div class="profile-container">
        <h2>Mystery Puzzle Game</h2>
        <div id="puzzle-display">
            <!-- Clues and story parts will be displayed here -->
        </div>
        <input type="text" id="puzzle-answer" placeholder="Enter your answer...">
        <button id="submit-answer">Submit Answer</button>
        <div id="puzzle-feedback"></div>
    </div>
</section>

<script>
    const puzzles = [
        {
            prompt: "Clue 1: The more you take, the more you leave behind. What am I?",
            answer: "footsteps",
            story: "You step into the old mansion. The wooden floors creak under your feet as you make your way down the dimly lit hallway. Suddenly, you hear a whisper: 'The more you take, the more you leave behind. What am I?'"
        },
        {
            prompt: "Clue 2: I speak without a mouth and hear without ears. What am I?",
            answer: "echo",
            story: "You find yourself in a large, empty room. The walls are covered in mirrors, reflecting your every move. A voice echoes around you: 'I speak without a mouth and hear without ears. What am I?'"
        },
        {
            prompt: "Clue 3: I have keys but open no locks. What am I?",
            answer: "piano",
            story: "In the next room, you see a grand piano. It looks like it hasn't been played in years, but there's something strange about it. A note lies on top: 'I have keys but open no locks. What am I?'"
        },
        {
            prompt: "Clue 4: I fly without wings and cry without eyes. What am I?",
            answer: "cloud",
            story: "As you step outside, the sky is overcast. The wind picks up, and you hear a distant rumble of thunder. The clouds seem to form a face, whispering: 'I fly without wings and cry without eyes. What am I?'"
        },
        {
            prompt: "Clue 5: I am not alive, but I grow; I don't have lungs, but I need air. What am I?",
            answer: "fire",
            story: "You enter the final room, where a fireplace crackles with a roaring flame. The warmth is comforting, but there's a sense of danger. Above the fireplace, a plaque reads: 'I am not alive, but I grow; I don't have lungs, but I need air. What am I?'"
        },
        // Add more clues as needed
    ];

    let currentPuzzleIndex = 0;

    function showPuzzle() {
        const puzzle = puzzles[currentPuzzleIndex];
        document.getElementById('puzzle-display').innerHTML = `<p>${puzzle.story}</p><p>${puzzle.prompt}</p>`;
    }

    document.getElementById('submit-answer').addEventListener('click', () => {
        const userAnswer = document.getElementById('puzzle-answer').value.toLowerCase();
        const puzzle = puzzles[currentPuzzleIndex];
        const feedback = document.getElementById('puzzle-feedback');

        if (userAnswer === puzzle.answer) {
            feedback.textContent = 'Correct! Moving to the next clue...';
            currentPuzzleIndex++;
            if (currentPuzzleIndex < puzzles.length) {
                showPuzzle();
            } else {
                feedback.textContent = 'Congratulations! You have solved all the puzzles!';
                document.getElementById('puzzle-display').innerHTML += '<p>The mystery is solved! üèÜ</p>';
            }
        } else {
            feedback.textContent = 'Incorrect answer. Try again!';
        }

        document.getElementById('puzzle-answer').value = '';
    });

    // Initial display of the first puzzle
    showPuzzle();
</script>
        
        
<style>
    .game-board {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        margin-top: 20px;
    }
    .card {
        background-color: #eee;
        border: 1px solid #ccc;
        height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        cursor: pointer;
    }
    .card.flipped {
        background-color: #fff;
    }
</style>

                
                <!-- Chat Section -->
                <section id="chat-section">
                    <div class="profile-container">
                        <button class="theme-toggle">üåô</button>
                        <h2>9jahotblog Chat AI</h2>
                        <div id="chat-box" style="height: 300px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
                            <div id="chat-messages"></div>
                        </div>
                        <input type="text" id="chat-input" placeholder="Type your message here..." style="width: 80%;">
                        <button id="send-message">Send</button>
                    </div>
                </section>
    
                  <script> 
                   document.getElementById('send-message').addEventListener('click', () => {
    const chatInput = document.getElementById('chat-input');
    const chatMessages = document.getElementById('chat-messages');
    const userMessage = chatInput.value.trim();

    if (userMessage === '') {
        return;
    }

    // Add user message to chat
    const userMessageElement = document.createElement('div');
    userMessageElement.textContent = `You: ${userMessage}`;
    chatMessages.appendChild(userMessageElement);

    // Clear input
    chatInput.value = '';

    // Simulate AI response (Replace this part with actual AI response logic if available)
    setTimeout(() => {
        const aiResponse = `AI: I'm here to assist you, ${userMessage}`;
        const aiMessageElement = document.createElement('div');
        aiMessageElement.textContent = aiResponse;
        chatMessages.appendChild(aiMessageElement);

        // Scroll to the bottom of the chat box
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }, 1000);
});

// Theme toggle functionality
document.querySelectorAll('.theme-toggle').forEach(button => {
    button.addEventListener('click', () => {
        document.body.classList.toggle('dark-theme');
    });
});

// Optional: Handle Enter key press to send message
document.getElementById('chat-input').addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
        document.getElementById('send-message').click();
    }
});
                  </script>

        

                <!-- Text-to-Speech Section with Third-Party TTS Integration -->
<section id="tts-section">
    <div class="profile-container">
        <h2>Text-to-Speech</h2>
        <div id="tts-input" contenteditable="true" style="width: 100%; height: 200px; border: 1px solid #ccc; margin-bottom: 10px; overflow-y: scroll;"></div>
        <div>
            <button id="convert-speech">Convert to Speech</button>
            <button id="pause-speech">Pause</button>
            <button id="continue-speech">Continue</button>
            <button id="stop-speech">Stop</button>
        </div>
    </div>
</section>

<script>
    let audioContext;
    let source;
    let isPaused = false;
    let audioBuffer;

    // Function to highlight spoken text
    function highlightSpokenText(text) {
        const words = text.split(' ');
        let currentIndex = 0;

        const interval = setInterval(() => {
            if (currentIndex < words.length) {
                const span = document.createElement('span');
                span.style.backgroundColor = 'yellow';
                span.textContent = words[currentIndex] + ' ';
                words[currentIndex] = span.outerHTML;
                document.getElementById('tts-input').innerHTML = words.join(' ');

                const ttsInput = document.getElementById('tts-input');
                const highlightedWord = ttsInput.querySelector('span[style="background-color: yellow;"]');
                if (highlightedWord) {
                    ttsInput.scrollTop = highlightedWord.offsetTop - ttsInput.offsetTop;
                }

                currentIndex++;
            } else {
                clearInterval(interval);
            }
        }, 200); // Adjust the interval as needed
    }

    // Function to fetch and play TTS audio
    async function fetchAndPlayTTS(text) {
        const apiKey = 'AIzaSyCd_P4J5xgsXcyVaqUBtAHvhb1AWJUATvA';
        const url = `https://texttospeech.googleapis.com/v1beta1/text:synthesize`;
        
        const response = await fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                input: { text: text },
                voice: { languageCode: 'en-US', ssmlGender: 'NEUTRAL' },
                audioConfig: { audioEncoding: 'MP3' }
            })
        });

        const data = await response.json();
        const audioContent = data.audioContent;
        const audioString = `data:audio/mp3;base64,${audioContent}`;

        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const responseAudio = await fetch(audioString);
        const arrayBuffer = await responseAudio.arrayBuffer();
        audioBuffer = await audioContext.decodeAudioData(arrayBuffer);

        playAudio();
        highlightSpokenText(text);
    }

    // Function to play audio
    function playAudio() {
        source = audioContext.createBufferSource();
        source.buffer = audioBuffer;
        source.connect(audioContext.destination);
        source.start(0);
    }

    // Event listeners for TTS buttons
    document.getElementById('convert-speech').addEventListener('click', () => {
        const text = document.getElementById('tts-input').innerText;
        if (text.trim() !== "") {
            fetchAndPlayTTS(text);
        } else {
            alert("Please enter some text to convert to speech.");
        }
    });

    document.getElementById('pause-speech').addEventListener('click', () => {
        if (audioContext && audioContext.state === 'running') {
            audioContext.suspend();
            isPaused = true;
        }
    });

    document.getElementById('continue-speech').addEventListener('click', () => {
        if (audioContext && isPaused) {
            audioContext.resume();
            isPaused = false;
        }
    });

    document.getElementById('stop-speech').addEventListener('click', () => {
        if (source) {
            source.stop();
        }
    });
</script>
            

                <!-- Profile Benefits Section -->
                <section id="benefits-section">
                    <div class="profile-container">
                        <button class="theme-toggle">üåô</button>
                        <h2>Profile Benefits</h2>

                        <p>As a 9jahotblogger, you enjoy numerous benefits that elevate your writing experience and expand your reach. A detailed look at some of the incredible advantages you gain:</p>

                        <h3>Search Result Priority.</h3>
                        <p>Enjoy prioritized ranking in search results on both 9jahotblog, Google, and more.. Ensuring your content reaches a wider audience.</p>

                        <h3>Adaptations.</h3>
                        <p>Get free credits to adapt your book into a movie, create a marketing video, or movie trailer for your stories. Offering a significant boost to your creative career. For more information, <a href="https://9jahotblog.github.io/create-book-trailers-images-or-movies.html">Click here</a></p>

                        <h3>Exclusive Contests..</h3>
                        <p>Participate in exclusive contests that provide unique opportunities to showcase your talent and win exciting prizes.</p>

                        <h3>Monetization..</h3>
                        <p>Earn money from posting short stories and engaging your audience. Increased engagements lead to earnings.</p>

                        <h3>Analytics Tracking..</h3>
                        <p>Track the analytics of your posts by checking the post link page, allowing you to monitor and optimize your content's performance. There, you can see how your post is doing, feedbacks, earnings and more.. Can't wait to find out? Post today and share the links to get started!</p>

            <h3>Verified Badge..</h3>
            <p>Gain a verified badge after amassing significant engagements on your posts, enhancing your credibility and visibility, not only on 9jahotblog.</p>

            <h3>Introducing the 9jahotblog Verified Badge
                <img src="https://i.postimg.cc/YqZKVx4v/IMG-20240803-WA0027.jpg" alt="9jahotblog Verified Badge" style="width:25px;height:25px;vertical-align:middle;margin-right:5px;"></h3>
            <p>The 9jahotblog verified badge appears next to a person's username, indicating their profile is authentic and notable. They've posted multiple times and they've gained massive engagements and exposure.</p>
            <p>Users with a verified badge have access to additional features, such as:</p>

            <h3>AI Writing Assistant
                <img src="https://i.postimg.cc/YqZKVx4v/IMG-20240803-WA0027.jpg" alt="9jahotblog Verified Badge" style="width:25px;height:25px;vertical-align:middle;margin-right:5px;"></h3>
            <p>An AI assistant integrated here to evaluate writing, check grammar and spelling, ensuring your posts are polished and professional. Basically for rating, spelling check, image generation and more.. Users can also choose social media channel they want the bot to be. (Telegram&here Default)</p>

            <h3>Enhanced Earnings
                <img src="https://i.postimg.cc/YqZKVx4v/IMG-20240803-WA0027.jpg" alt="9jahotblog Verified Badge" style="width:25px;height:25px;vertical-align:middle;margin-right:5px;"></h3>
            <p>Earn for posting alone and receive higher earnings for massive engagements on your posts, making your writing efforts more rewarding.</p>

            <p>For custom verified badges, contact <a href="https://wa.me/+2349160331432">9jahotblog tech support</a> to join the waitlist. This service allows you to get a custom badge without the rigorous steps of obtaining it naturally and is endorsed by 9jahotblog. (You may have to sign up for this.)</p>
        </div>
    </section>

    <!-- Footer -->
    <footer id="footer">
        <ul class="icons">
            <li><a href="https://Twitter.com/koladhino" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
            <li><a href="https://www.facebook.com/profile.php?id=100092154756974" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
            <li><a href="https://Instagram.com/koladesworld" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
            <li><a href="https://github.com/philipsmith617" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
            <li><a href="mailto:9jahotblog2@gmail.com" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
        </ul>
        <ul class="copyright">
            <li>&copy; 9jahotblog. All rights reserved.</li>
            <li>Design: <a href="https://wa.me/+2349160331432">Philip</a></li>
        </ul>
    </footer>
    <button id="dark-mode-toggle">üåô</button>
</div>
</div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/jquery.dropotron.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut, updateProfile } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
    import { getFirestore, doc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyCzajY4QIxiRiob2ho-Cgkj6EtOz83AzI8",
        authDomain: "jahotblog-login.firebaseapp.com",
        projectId: "jahotblog-login",
        storageBucket: "jahotblog-login.appspot.com",
        messagingSenderId: "661526730601",
        appId: "1:661526730601:web:27a3c1624ccd6f20ab8c16c"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const db = getFirestore(app);

    let currentPage = 0;
    const bookContent = [
        "<p><strong>LONE RANGER</strong></p><p><i>I shivered as the cool wind blew dust into my eyes. I'd come for a long run before dawn by the beach, but now, I was winded.</i></p><p>My life was a suffocating mess and I needed the breathing space, so I took a much needed sabbatical from my job.</p><p>I was a pro-life and pro-God activist, making me automatically the target of every anti-Christ organisation. It was a good thing I was a lone ranger, with no family since my parents disowned me years ago because of my faith. The way the world had gone haywire, turning normalcy upside down, I just wished the return of the Lord was closer.</p>",
        "<p>All sorts of debauchery had been legalised all on the claim of human liberty. But when it came to mentions of truth, one was tagged a fanatic and was blatantly persecuted. As I was. I had received lots of threats. The most recent one that forced me to take this retreat was the lawsuit I was faced with a particular celebrity.</p><p>A popular popstar had sued me for allegedly defaming her. Her lyrics were clearly satanic and I'd only expressed my displeasure at how young people were being indoctrinated by her songs.</p>",
        "<p><i>I lay exhausted on the wet sand, spread eagle as I watch the sky light up with colours of the rising sun‚Äîpinks and oranges against a background of pale blue spotted with white fluffy clouds.</i></p><p>'Lord, I'm tired and exhausted. I don't think I can go on on this path. Everyone hates me. Can't you just come and take me home? Like right now.'</p><p>The voice of the Lord came softly on the wind.</p><p>'Those who wait upon me will renew their strengths. They will mount up with wings as eagles, they will run and not be weary, they will walk and not faint.'</p><p>I soaked in the word. I needed the reminder.</p>",
        "<p>A particular quote I'd read somewhere rang in my heart as I watched the crashing waves: <blockquote>'If you want to go fast go alone, but if you want to go far, go with others.'</blockquote></p><p>'Sam, there are many who haven't caved in to the system of this world. You need to find them and walk with them. Your lone ranger creed won't work anymore, son.'</p><p>As He spoke those words, I noticed a young brunette walking into the shallow waters with her surf board. She didn't seem to notice me and I was impressed that she wore a very modest swim suit as opposed to the bikini that was common place. I noticed the glint of the silver cross pendant she wore. I had a witness in my spirit that she was also a strong believer.</p>",
        "<p>She slid into the water and went under for such a long time that I panicked and considered diving in to rescue her from drowning.</p><p>Just as I was about to rise to her rescue, she came out sleek and wet, her face brimming with such joy and peace. I saw her clasp her hands in prayer and her lips moving. I watched her for a long time. She must have sensed my eyes because the moment she was done, she opened her eyes and looked straight at me with a beautiful smile.</p><p>'Go, speak to her,' the Lord's voice said.</p><p>'Lord? I'm ranting to you about my predicament. Asking you for a solution. Not this. I don't need a distraction right now.'</p><p>'She's the solution I'm providing you.'</p><p>I looked at the waves again as this nameless lady began to ride the next wave. I smiled, not minding one bit that God's choice for me was a gorgeous lady who was obviously crazily in love with Him and not ashamed to show it.</p><p><strong>AUTHOR: Praise Abraham</strong></p>"
    ];

    function updatePageContent() {
        document.getElementById("book-page").innerHTML = bookContent[currentPage];
    }

    document.getElementById("next-page").addEventListener("click", () => {
        if (currentPage < bookContent.length - 1) {
            currentPage++;
            updatePageContent();
        }
    });

    document.getElementById("prev-page").addEventListener("click", () => {
        if (currentPage > 0) {
            currentPage--;
            updatePageContent();
        }
    });

    updatePageContent(); // Initialize with the first page content

    function updateProgress(userId, newProgress) {
        const userRef = doc(db, "users", userId);
        updateDoc(userRef, {
            progress: newProgress
        }).then(() => {
            console.log("Progress updated successfully.");
        }).catch((error) => {
            console.error("Error updating progress:", error);
        });
    }

    function fetchNewPrompt() {
        const prompts = {
    "Christian fiction": [
        "A young woman, raised in doubt, experiences a life-altering miracle that not only transforms her but also becomes a beacon of hope for her struggling community.",
        "Explore the spiritual journey of a man grappling with deep-rooted guilt. Through unwavering faith and divine intervention, he finds redemption and becomes a pillar of strength for others.",
        "In a world ravaged by despair, a group of diverse individuals come together, united by their shared faith, to overcome insurmountable challenges and create a lasting impact on their society.",
        "A renowned scientist, skeptical of religious beliefs, embarks on a quest to find scientific proof of miracles. Instead, he undergoes a profound spiritual awakening that challenges his worldview.",
        "Write a story about a small town facing a devastating natural disaster. Amidst the chaos, a selfless act of faith inspires hope and resilience, leading to a miraculous recovery.",
        "A young orphan finds solace and purpose in a hidden monastery, where she discovers her true calling and becomes a catalyst for spiritual renewal within the monastery and beyond.",
        "Explore the complex relationship between faith and doubt through the eyes of a struggling pastor. As he confronts personal challenges, he rediscovers the power of belief and inspires his congregation.",
        "In a dystopian future where religion is outlawed, a secret underground church emerges, offering hope and resistance. Follow the journey of a young believer as they navigate a dangerous world.",
        "Write a story about a group of friends who embark on a pilgrimage to a sacred site. Along the way, they encounter personal trials and spiritual revelations that deepen their bond and faith.",
        "A renowned atheist writer is challenged to write a book about faith. Through extensive research and personal experiences, they undergo a transformative journey that leads to unexpected conclusions."
    ],
    "Racism": [
        "A talented Black athlete faces intense racial prejudice and discrimination as they strive to achieve their dreams. Explore the challenges they overcome and the impact they have on their community.",
        "In a small, predominantly white town, a young biracial woman grapples with her identity and experiences firsthand the harsh realities of racism. Follow her journey of self-discovery and resilience.",
        "A group of diverse activists come together to fight against systemic racism and inequality. Explore the challenges they face, the victories they achieve, and the impact of their work on society.",
        "A white police officer develops a deep-rooted conscience about the racial injustices within their department. Follow their internal struggle as they navigate a complex moral dilemma.",
        "A historical fiction story set during the Civil Rights Movement, focusing on the lives of ordinary people who risked everything to fight for equality. Explore the courage, sacrifice, and hope that fueled the movement.",
        "A young Black writer faces rejection and criticism due to their race and background. Follow their journey as they overcome obstacles and find their voice in the literary world.",
        "A workplace microaggressions and systemic biases that impact the lives of Black employees. Explore the challenges they face and the strategies they employ to create a more inclusive environment.",
        "A coming-of-age story about a mixed-race teenager navigating their identity and facing prejudice from both sides of their heritage. Explore their search for belonging and self-acceptance.",
        "A powerful drama exploring the complexities of interracial relationships and the challenges faced by couples who defy societal norms. Focus on the love, resilience, and strength required to overcome prejudice.",
        "A thought-provoking exploration of the lasting impact of historical racism on present-day society. Examine the systemic issues and the individual stories that highlight the ongoing struggle for racial justice."
    ],
    "Fantasy": [
        "In a world where magic is intertwined with technology, a young inventor discovers a hidden power that could reshape the world. Follow their journey as they navigate a dangerous world filled with mythical creatures and ancient secrets.",
        "A group of unlikely heroes, each with unique magical abilities, embark on a quest to defeat a powerful dark wizard who threatens to plunge the kingdom into eternal darkness.",
        "Explore a world where dreams are tangible and can be harnessed as a powerful force. Follow the story of a young dreamer who discovers their extraordinary abilities and the challenges that come with them.",
        "In a realm where mythical creatures coexist with humans, a young woman forms an unlikely bond with a dragon. Together, they must protect their world from a growing evil.",
        "A young orphan discovers they are the last descendant of an ancient order of magic users. As they train to master their powers, they uncover a dark conspiracy that threatens to destroy their world.",
        "A group of friends stumble upon a hidden portal to another dimension filled with fantastical creatures and breathtaking landscapes. They must navigate this new world while trying to find their way back home.",
        "In a world where magic is fading, a young wizard sets out on a quest to find the lost source of magic and restore it to its former glory.",
        "A young woman with the ability to control the elements discovers a hidden prophecy that foretells of a great battle between good and evil. She must embrace her destiny and become the hero her world needs.",
        "Explore a world where magic is a forbidden art. Follow the story of a young rebel who defies the law and uses their powers to help those in need.",
        "A group of adventurers embark on a perilous journey to find a legendary artifact that has the power to grant immortality. But they soon discover that the artifact is more dangerous than they ever imagined."
    ],
    "Science Fiction": [
        "In a future where Earth is uninhabitable, a group of astronauts embark on a perilous mission to colonize Mars. Explore the challenges they face, the discoveries they make, and the impact of their mission on humanity.",
        "A brilliant scientist develops a groundbreaking technology that has the potential to revolutionize human existence. However, the technology falls into the wrong hands, leading to a dystopian future.",
        "In a world where artificial intelligence has become sentient, a young AI grapples with their identity and purpose. Explore their journey of self-discovery and the ethical dilemmas they face.",
        "A group of rebels fight against a powerful corporation that controls the world's resources. Follow their struggle for freedom and the sacrifices they make to protect humanity.",
        "A time-traveling agent is sent back to prevent a catastrophic event that will change the course of history. But they soon discover that altering the past has unintended consequences.",
        "In a future where humans have evolved beyond their physical bodies, a group of individuals must confront the challenges of their new existence and the ethical implications of their enhanced abilities.",
        "A young woman wakes up to find herself in a virtual reality world where she can't distinguish between reality and simulation. As she explores this new world, she begins to question her own existence.",
        "A group of scientists discover a mysterious alien artifact that holds the key to unlocking the secrets of the universe. But the artifact also poses a threat to humanity.",
        "In a future where humans have lost touch with nature, a young botanist embarks on a quest to restore the planet's ecosystem and reconnect people with the natural world.",
        "A world where humans have developed the ability to upload their consciousness into a digital realm. Explore the ethical implications of this technology and the challenges faced by those who choose to live in this new reality."
    ],
    "Mystery": [
        "A reclusive writer is found dead in their isolated home. A young detective with a troubled past is assigned to the case and must unravel the complex web of secrets and lies surrounding the victim.",
        "A treasure hunter discovers an ancient map hidden within a priceless painting. As they follow the clues, they become entangled in a dangerous mystery with deadly consequences.",
        "A small town is rocked by a series of mysterious disappearances. A local journalist teams up with a retired detective to uncover the truth behind the vanishings.",
        "A renowned art collector acquires a painting with a dark history. As they delve deeper into the painting's origins, they uncover a hidden message that could lead to a shocking discovery.",
        "A young woman inherits a seemingly ordinary house from a distant relative. As she begins to explore the house, she discovers hidden rooms and cryptic clues that suggest a dark secret lies within its walls.",
        "A detective with a photographic memory is tasked with solving a complex murder case involving multiple suspects and a web of intricate lies.",
        "A group of friends on a camping trip stumble upon a hidden cave filled with ancient artifacts. As they explore the cave, they uncover a mystery that could change the course of history.",
        "A renowned psychic is hired to investigate a series of unexplained events at a haunted mansion. As they delve deeper into the mystery, they realize they may be in over their heads.",
        "A young woman with a unique ability to see glimpses of the future helps a detective solve a series of seemingly unrelated crimes. Together, they must race against time to prevent a catastrophic event.",
        "A detective with a troubled past is drawn into a dangerous world of espionage and intrigue. As they uncover a plot to undermine national security, they must protect themselves and their loved ones."
    ]
};

        const genres = Object.keys(prompts);
        const randomGenre = genres[Math.floor(Math.random() * genres.length)];
        const randomPrompt = prompts[randomGenre][Math.floor(Math.random() * prompts[randomGenre].length)];
        return randomPrompt;
    }

    const suggestions = {
        "Once": "Once upon a time",
        "In": "In a land far away",
        "The": "The hero embarked on a journey",
        "I don't": "I don't know",
        "He is": "He is a brave warrior",
        "She was": "She was a kind soul",
        "They went": "They went on an adventure",
        "It was": "It was a dark and stormy night",
        "There is": "There is a secret door",
        "We can": "We can make it through",
        "A long": "A long time ago",
        "Far away": "Far away in a distant land",
        "In the": "In the beginning",
        "I am": "I am ready for the challenge"
    };

    document.getElementById("new-prompt-btn").addEventListener("click", () => {
        const newPrompt = fetchNewPrompt();
        document.getElementById("writing-prompt").innerText = newPrompt;
    });

    document.getElementById("writing-textbox").addEventListener("input", (event) => {
        const text = event.target.value;
        const words = text.trim().split(/\s+/);
        const lastWord = words[words.length - 1];
        const suggestion = suggestions[lastWord];
        if (suggestion) {
            event.target.value = text.slice(0, text.lastIndexOf(' ') + 1) + suggestion;
        }
        document.getElementById("word-count").innerText = `Word count: ${words.length}`;

        // Display congratulatory message based on word count
        let message = "";
if (words.length >= 1) message = "You've started! Keep writing, you've got this!";
if (words.length >= 10) message = "Great job! You're building momentum!";
if (words.length >= 25) message = "Excellent! Your ideas are flowing!";
if (words.length >= 50) message = "Impressive! You're on a roll!";
if (words.length >= 75) message = "Fantastic! Your story is taking shape!";
if (words.length >= 100) message = "Amazing! You're a true writer!";
if (words.length >= 125) message = "Outstanding! Your creativity is shining!";
if (words.length >= 150) message = "Wow! You're really cooking now!";
if (words.length >= 200) message = "Incredible! Keep up the fantastic work!";
if (words.length >= 250) message = "Unbelievable! You're a writing rockstar!";
if (words.length >= 300) message = "Sensational! Your writing is captivating!";
if (words.length >= 350) message = "Exceptional! You're making great progress!";
if (words.length >= 400) message = "Magnificent! Your story is coming alive!";
if (words.length >= 450) message = "Phenomenal! Keep pushing the boundaries!";
if (words.length >= 500) message = "Congratulations! You've written a masterpiece!";
if (words.length >= 550) message = "Bravo! Your dedication is paying off!";
if (words.length >= 600) message = "Inspirational! Your writing is a true achievement!";
if (words.length >= 650) message = "Stupendous! You're a writing sensation!";
if (words.length >= 700) message = "Breathtaking! Your story is a work of art!";
if (words.length >= 750) message = "Don't forget to proofread and edit ‚Äì you're almost there!";
if (words.length >= 800) message = "You're on fire! Keep the momentum going!";
if (words.length >= 850) message = "Your writing is electrifying! Keep pushing the limits!";
if (words.length >= 1000) message = "Wow, 1000 words! Take a break, then review for consistency and flow.";
if (words.length >= 1050) message = "Remember to check for grammar, punctuation, and spelling errors.";
if (words.length >= 1100) message = "Your story is really taking shape! Consider getting feedback from beta readers.";
if (words.length >= 1150) message = "You're getting close! Make sure to edit and revise before calling it done.";
if (words.length >= 1200) message = "Keep going! You're almost at the finish line!";
if (words.length >= 1250) message = "Your dedication is paying off! Keep pushing forward!";
if (words.length >= 1300) message = "You're a writing machine! Keep the words flowing!";
if (words.length >= 1500) message = "Your story is a masterpiece! Take pride in your work!";
if (words.length >= 1750) message = "You're a rockstar writer! Keep shining!";
if (words.length >= 2000) message = "Congratulations! You've reached 2000 words! Take a moment to celebrate, then edit and polish.";
document.getElementById("congratulatory-message").innerText = message;
    });

    document.getElementById("publish-story").addEventListener("click", (event) => {
        event.preventDefault();
        const text = document.getElementById("writing-textbox").value;
        const words = text.trim().split(/\s+/);
        const wordCount = words.length;

        // Submit the form
        event.target.closest("form").submit();

        // Update progress in Firestore
        onAuthStateChanged(auth, (user) => {
            if (user) {
                updateProgress(user.uid, wordCount);
            }
        });
    });

    // Dark mode toggle with multiple colors
    let themeIndex = 0;
    const themes = ["#333", "#006400", "#FFD700", "#8B0000", "#0000CD", "#800080", "#FF69B4", "#FFA500"];
    function applyTheme(themeIndex) {
        document.body.style.backgroundColor = themes[themeIndex];
        document.body.style.color = themeIndex === 0 ? "#fff" : "#000";
        document.querySelectorAll('.profile-container, .writing-container, .book-reader-container, .library-container').forEach((element) => {
            element.style.backgroundColor = themes[themeIndex];
        });
    }

    document.getElementById("dark-mode-toggle").addEventListener("click", () => {
        themeIndex = (themeIndex + 1) % themes.length;
        applyTheme(themeIndex);
    });

    document.querySelectorAll('.theme-toggle').forEach((button) => {
        button.addEventListener("click", (event) => {
            themeIndex = (themeIndex + 1) % themes.length;
            event.currentTarget.closest('.profile-container, .writing-container, .book-reader-container, .library-container').style.backgroundColor = themes[themeIndex];
        });
    });

    // Authentication state observer
    onAuthStateChanged(auth, (user) => {
        if (user) {
            const userId = user.uid;
            document.getElementById("user-name").innerText = user.displayName;
            document.getElementById("user-email").innerText = user.email;
            document.getElementById("user-username").innerText = user.displayName;
            document.getElementById("profile-photo").src = user.photoURL;

            // Fetch user data from Firestore
            const userRef = doc(db, "users", userId);
            getDoc(userRef).then((doc) => {
                if (doc.exists()) {
                    const userData = doc.data();
                    document.getElementById("user-username").innerText = userData.username;
                    document.getElementById("user-email").innerText = userData.email;
                    document.getElementById("user-level").innerText = "9jahotblogger";
                } else {
                    console.log("No such document!");
                }
            }).catch((error) => {
                console.log("Error getting document:", error);
            });
        } else {
            window.location.href = "login-page.html";
        }
    });

    document.getElementById("logout").addEventListener("click", () => {
        signOut(auth).then(() => {
            window.location.href = "login-page.html";
        }).catch((error) => {
            console.error("Error signing out:", error);
        });
    });
    
    // Handle edit profile
document.getElementById("edit-profile").addEventListener("click", () => {
    const newUsername = prompt("Enter new username (leave blank to keep current):");
    const newEmail = prompt("Enter new email (leave blank to keep current):");
    const newPhotoURL = prompt("Enter new photo URL (leave blank to keep current):");

    const user = auth.currentUser;

    if (user) {
        const updates = {};

        // Check if new values are provided, and if so, add them to the updates object
        if (newUsername) {
            updates.displayName = newUsername;
        }
        if (newPhotoURL) {
            updates.photoURL = newPhotoURL;
        }

        // Update profile if there are changes in displayName or photoURL
        const updateProfilePromise = Object.keys(updates).length > 0 ? updateProfile(user, updates) : Promise.resolve();

        updateProfilePromise
            .then(() => {
                // Update email if it's provided
                if (newEmail) {
                    return updateEmail(user, newEmail);
                }
            })
            .then(() => {
                // Update the Firestore document if any updates were made
                if (newUsername || newEmail || newPhotoURL) {
                    const userRef = doc(db, "users", user.uid);
                    const firestoreUpdates = {};

                    if (newUsername) firestoreUpdates.username = newUsername;
                    if (newEmail) firestoreUpdates.email = newEmail;
                    if (newPhotoURL) firestoreUpdates.photoURL = newPhotoURL;

                    return updateDoc(userRef, firestoreUpdates);
                }
            })
            .then(() => {
                // Update the UI
                if (newUsername) document.getElementById("user-username").innerText = newUsername;
                if (newEmail) document.getElementById("user-email").innerText = newEmail;
                if (newPhotoURL) document.getElementById("profile-photo").src = newPhotoURL;

                alert("Profile updated successfully! Please refresh the page to see the changes.");
            })
            .catch((error) => {
                console.error("Error updating profile:", error);
                alert("An error occurred while updating the profile. Please try again.");
            });
    } else {
        alert("No user is currently signed in.");
    }
});
            

    async function callGoogleGeminiAI(userMessage) {
        const apiKey = 'AIzaSyCd_P4J5xgsXcyVaqUBtAHvhb1AWJUATvA'; // Replace with your actual API Key
        const endpoint = 'https://generativelanguage.googleapis.com/v1/models/gemini-1.0-pro:generateContent?key=AIzaSyCd_P4J5xgsXcyVaqUBtAHvhb1AWJUATvA'; // Hypothetical endpoint

        try {
            const response = await fetch(endpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiKey}`
                },
                body: JSON.stringify({
                    message: userMessage
                })
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const data = await response.json();
            return data.reply;  // Adjust based on API response structure
        } catch (error) {
            console.error("Error communicating with AI:", error);
            return "Sorry, something went wrong.";
        }
    }
        document.getElementById("send-message").addEventListener("click", async () => {
        const userMessage = document.getElementById("chat-input").value;
        if (userMessage) {
            // Display user message
            document.getElementById("chat-messages").innerHTML += `<p><strong>You:</strong> ${userMessage}</p>`;
            document.getElementById("chat-input").value = '';

            const aiMessage = await callGoogleGeminiAI(userMessage);

            // Display AI message
            document.getElementById("chat-messages").innerHTML += `<p><strong>AI:</strong> ${aiMessage}</p>`;
            document.getElementById("chat-box").scrollTop = document.getElementById("chat-box").scrollHeight;
        }
    });
</script>
</div>
</body>
</html>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-38V179JCWD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-38V179JCWD');
</script>
