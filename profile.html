<!DOCTYPE HTML>
<html>
<head>
    <title>My 9jahotblog Profile</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css" />
    </noscript>
    <style>
        body {
            transition: background-color 0.5s, color 0.5s;
        }

        .profile-container,
        .writing-container,
        .book-reader-container,
        .library-container {
            text-align: center;
            background-color: #111111;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: auto;
            margin-top: 20px;
            position: relative;
            color: #fff;
            font-family: 'Arial', sans-serif;
        }

        .profile-container img {
            border-radius: 50%;
            width: 80px;
            height: 80px;
        }

        .profile-container button,
        .writing-container button,
        .book-reader-container button,
        .theme-toggle {
            margin-top: 10px;
            background-color: #444;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .writing-container textarea {
            width: 100%;
            height: 200px;
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }

        .library-container img {
            width: 100px;
            height: 150px;
            margin: 10px;
            cursor: pointer;
        }

        .theme-toggle {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #444;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
        }

        #dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #444;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
        }

        footer {
            margin-top: 40px;
        }
    </style>
</head>

<body class="is-preload landing">
    <div id="page-wrapper">

        <!-- Header -->
        <header id="header">
            <h1 id="logo"><a href="index.html">9JAHOTBLOG</a></h1>
            <nav id="nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#writing-section">Publish Story</a></li>
                    <li><a href="#profile-section">Profile</a></li>
                    <li><a href="#library-section">Featured Story of the Month</a></li>
                    <li><a href="#benefits-section">Profile Benefits</a></li>
                </ul>
            </nav>
        </header>

        <!-- Main -->
        <div id="main" class="wrapper style1">
            <div class="container">
                <header class="major">
                    <h1>Welcome to 9jahotblog Storybooks, <span id="user-name"></span>!</h1>
                </header>

                <!-- Profile Section -->
                <section id="profile-section">
                    <div class="profile-container">
                        <button class="theme-toggle">🌙</button>
                        <div>
                            <img id="profile-photo" src="https://via.placeholder.com/100" alt="Profile Picture" />
                        </div>
                        <p>Email: <span id="user-email"></span></p>
                        <p>Username: <span id="user-username"></span></p>
                        <p>Earnings: ₦0.00</p>
                        <p>Short Stories/Articles: N/A</p>
                        <p>Books: N/A</p>
                        <p>Level: <span id="user-level">9jahotblogger</span></p>
                        <button id="edit-profile">Edit Profile</button>
                        <button id="logout">Logout</button>
                    </div>
                    <hr />
                </section>

                <!-- Library Section -->
                <section id="library-section">
                    <div class="library-container">
                        <h2>Featured Story of the Month</h2>
                        <img src="https://i.postimg.cc/VvSVHH3N/1722646756851.jpg" alt="Lone Ranger" style="border-radius: 0;" />
                        <h3>Lone Ranger</h3>
                        <p>by Praise Abraham</p>
                    </div>
                </section>

                <!-- Book Reader Section -->
<section id="book-reader-section">
    <div class="book-reader-container">
        <button class="theme-toggle">🌙</button>
        <h2>Book Reader</h2>
        <div id="book-content">
            <p id="book-page"></p>
        </div>
        <button id="prev-page">Previous</button>
        <button id="next-page">Next</button>
    </div>
</section>


                <!-- Writing Prompt and Textbox Section -->
                <section id="writing-section">
                    <div class="writing-container">
                        <button class="theme-toggle">🌙</button>
                        <form action="https://formspree.io/f/mldrbpwo" method="POST">
                            <h2>Writing Prompt</h2>
                            <p id="writing-prompt">Click the button to get a new prompt!</p>
                            <button type="button" id="new-prompt-btn">New Prompt</button>
                            <textarea id="writing-textbox" name="content" placeholder="Start writing here..."></textarea>
                            <p id="word-count">Word count: 0</p>
                            <p id="congratulatory-message"></p>
                            <button type="submit" id="publish-story">Publish Story</button>
                        </form>
                    </div>
                </section>

                <!-- Text-to-Speech Section-->
                  
            <section id="tts-section">
    <div class="profile-container">
        <h2>9jahotblog Audiobook Ai</h2>
        <div id="tts-input" contenteditable="true" style="width: 100%; height: 200px; border: 1px solid #ccc; margin-bottom: 10px; overflow-y: scroll;"></div>
        <div>
            <button id="convert-speech">Convert to Speech</button>
            <button id="pause-speech">Pause</button>
            <button id="continue-speech">Continue</button>
            <button id="stop-speech">Stop</button>
            <button id="download-speech">Download Audio</button>
            <button id="download-text">Download Text</button>
        </div>
    </div>
</section>

<script>
    let utterances = [];
    let currentIndex = 0;
    let mediaRecorder;
    let audioChunks = [];

    // Function to highlight spoken text
    function highlightSpokenText(text, utterance) {
        let currentIndex = 0;
        const words = text.split(' ');

        utterance.onboundary = function(event) {
            if (event.name === 'word') {
                const span = document.createElement('span');
                span.style.backgroundColor = 'black'; // Darker background
                span.style.color = 'white'; // White text
                span.textContent = words[currentIndex] + ' ';
                words[currentIndex] = span.outerHTML;
                document.getElementById('tts-input').innerHTML = words.join(' ');
                currentIndex++;

                // Scroll to the highlighted word
                const ttsInput = document.getElementById('tts-input');
                const highlightedWord = ttsInput.querySelector('span[style*="background-color: black;"]');
                if (highlightedWord) {
                    ttsInput.scrollTop = highlightedWord.offsetTop - ttsInput.offsetTop;
                }
            }
        };
    }

    // Function to create and configure a SpeechSynthesisUtterance
    function createUtterance(text, voice) {
        const msg = new SpeechSynthesisUtterance(text);
        msg.voice = voice; // Voice configuration
        return msg;
    }

    // Function to speak text with selected voice
    function speakText(voice) {
        const text = document.getElementById('tts-input').innerText;

        if (text.trim() !== "") {
            const utterance = createUtterance(text, voice);
            utterance.onend = () => {
                if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                    mediaRecorder.stop();
                }
            };

            highlightSpokenText(text, utterance);
            window.speechSynthesis.speak(utterance);

            // Start recording audio
            if (mediaRecorder && mediaRecorder.state === 'inactive') {
                mediaRecorder.start();
            }
        } else {
            alert("Please enter some text to convert to speech.");
        }
    }

    // Function to handle audio recording
    function startRecording() {
        audioChunks = [];
        navigator.mediaDevices.getUserMedia({ audio: true }).then(stream => {
            mediaRecorder = new MediaRecorder(stream, { mimeType: 'audio/webm' });

            mediaRecorder.ondataavailable = event => {
                if (event.data.size > 0) {
                    audioChunks.push(event.data);
                }
            };

            mediaRecorder.onstop = () => {
                const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
                const audioUrl = URL.createObjectURL(audioBlob);
                const a = document.createElement('a');
                a.style.display = 'none';
                a.href = audioUrl;
                a.download = 'spoken_audio.webm';
                document.body.appendChild(a);
                a.click();
                URL.revokeObjectURL(audioUrl);
            };
        });
    }

    // Function to download text input
    function downloadTextInput() {
        const text = document.getElementById('tts-input').innerText;
        if (text.trim() !== "") {
            const textToSave = text + "\n\nGenerated by 9jahotblog Storybooks";
            const textBlob = new Blob([textToSave], { type: 'text/plain' });
            const textUrl = URL.createObjectURL(textBlob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = textUrl;
            a.download = 'input_text.txt';
            document.body.appendChild(a);
            a.click();
            URL.revokeObjectURL(textUrl);
        } else {
            alert("Please enter some text to download.");
        }
    }

    // Load voices and configure voice options
    function loadVoices() {
        const voices = window.speechSynthesis.getVoices();
        return voices[0] || null; // Default to the first available voice
    }

    // Event listeners for TTS buttons
    document.getElementById('convert-speech').addEventListener('click', () => {
        window.speechSynthesis.cancel();
        startRecording();
        const voice = loadVoices();
        if (voice) {
            speakText(voice);
        } else {
            alert("No voice available for speech synthesis.");
        }
    });

    document.getElementById('pause-speech').addEventListener('click', () => {
        window.speechSynthesis.pause();
        if (mediaRecorder && mediaRecorder.state === 'recording') {
            mediaRecorder.pause();
        }
    });

    document.getElementById('continue-speech').addEventListener('click', () => {
        window.speechSynthesis.resume();
        if (mediaRecorder && mediaRecorder.state === 'paused') {
            mediaRecorder.resume();
        }
    });

    document.getElementById('stop-speech').addEventListener('click', () => {
        window.speechSynthesis.cancel();
        if (mediaRecorder && mediaRecorder.state !== 'inactive') {
            mediaRecorder.stop();
        }
    });

    document.getElementById('download-speech').addEventListener('click', () => {
        if (mediaRecorder && mediaRecorder.state !== 'inactive') {
            mediaRecorder.stop();
        } else {
            alert("No audio to download. Please convert text to speech first.");
        }
    });

    document.getElementById('download-text').addEventListener('click', () => {
        downloadTextInput();
    });

    // Load voices when the voices are loaded
    window.speechSynthesis.onvoiceschanged = loadVoices;

    document.addEventListener("DOMContentLoaded", function() {
        if (window.speechSynthesis.onvoiceschanged !== undefined) {
            window.speechSynthesis.onvoiceschanged = loadVoices;
        }
    });
</script>

        <style>
        body.dark-theme {
            background-color: #121212;
            color: #ffffff;
        }

        .dark-theme .profile-container {
            background-color: #1e1e1e;
            border-color: #333;
        }

        .dark-theme #game-display,
        .dark-theme #chat-box {
            background-color: #2e2e2e;
            border-color: #444;
        }

        .dark-theme input,
        .dark-theme textarea {
            background-color: #3e3e3e;
            color: #fff;
            border-color: #555;
        }

        .dark-theme button {
            background-color: #444;
            color: #fff;
            border-color: #555;
        }
    </style>

<body>
    <section id="start-game">
        <div class="profile-container">
            <h2>Welcome to the Mystery Writer Challenge</h2>
            <button id="start-button">Start Game</button>
        </div>
    </section>

    <section id="mystery-writer" style="display: none;">
        <div class="profile-container">
            <button class="theme-toggle">🌙</button>
            <h2 id="story-title">Mysterious Game!</h2>
            <p id="intro">Hello, <span id="user-username"></span>! Welcome to the Mystery Writer Challenge. I'm the mysterious 9jahotblog AI, your assistant through this exciting game. Your mission is to uncover the secrets hidden within these mysteries.</p>
            <div id="game-display" style="height: 300px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;"></div>
            <textarea id="user-input" placeholder="Type your response here..." style="width: 100%; height: 100px; margin-bottom: 10px;"></textarea>
            <div>
                <button id="submit-challenge">Submit</button>
                <button id="next-level" style="display: none;">Next Level</button>
            </div>
            <div id="feedback" style="margin-top: 10px;"></div>
            <div id="final-message" style="display: none;">
                <p>Congratulations, you've completed this level of the challenge! Would you like to continue or stop and claim data bonus? 📱🎉</p>
                <button id="continue-game">Continue</button>
                <button id="stop-game">Stop and Claim Bonus</button>
            </div>
            <div id="end-game" style="display: none;">
                <p>You just won <span id="total-data-reward"></span> worth of data! You're a writing machine! Click <a href="https://wa.me/+2349160331432">here</a> to claim your prize. 🏆📲 Download your story responses as proof to get bonus from support.</p>
                <button id="download-txt">Download My Story (TXT)</button>
                <button id="download-word">Download My Story (Word)</button>
            </div>
        </div>
    </section>

    <script>
    const levels = {
        "Ancient Mystery": [
            { prompt: "Level 1: You find an old map. What do you do?", successKeywords: ['follow', 'map', 'explore', 'track', 'trace', 'discover'], failureMessage: "You missed the treasure!", successMessage: "You follow the map and find the hidden treasure! 💎" },
            { prompt: "Level 2: The treasure is guarded by a riddle. Solve it to proceed.", successKeywords: ['solve', 'riddle', 'answer', 'decipher', 'unravel', 'interpret'], failureMessage: "You couldn't solve the riddle.", successMessage: "You solve the riddle and the treasure is yours! 🎉" },
            { prompt: "Level 3: A trap is triggered! How do you escape?", successKeywords: ['escape', 'dodge', 'avoid', 'flee', 'evade', 'run'], failureMessage: "You got caught in the trap!", successMessage: "You successfully escape the trap! 🏃" },
            { prompt: "Level 4: You encounter a guardian. Convince him to let you pass.", successKeywords: ['convince', 'talk', 'negotiate', 'persuade', 'reason', 'argue'], failureMessage: "The guardian doesn't let you pass.", successMessage: "You convince the guardian and he lets you pass! 🛡️" },
            { prompt: "Level 5: The final treasure room is ahead. What's your plan?", successKeywords: ['plan', 'strategy', 'approach', 'tactic', 'scheme', 'method'], failureMessage: "Your plan fails.", successMessage: "Your plan works and you get the final treasure! 🏆" },
            { prompt: "Level 6: A rival treasure hunter appears. What's your move?", successKeywords: ['confront', 'ally', 'outsmart', 'compete', 'challenge', 'defeat'], failureMessage: "The rival takes the treasure.", successMessage: "You outsmart the rival and secure the treasure! 🎖️" }
        ],
        "Modern Detective": [
            { prompt: "Level 1: A mysterious letter arrives at your office. What do you do?", successKeywords: ['open', 'read', 'analyze', 'examine', 'inspect', 'investigate'], failureMessage: "The letter self-destructs.", successMessage: "You analyze the letter and find a clue! 🔍" },
            { prompt: "Level 2: You need to tail a suspect. How do you proceed?", successKeywords: ['follow', 'discreet', 'observe', 'shadow', 'track', 'monitor'], failureMessage: "You lose the suspect.", successMessage: "You follow the suspect and gather evidence! 📸" },
            { prompt: "Level 3: The suspect enters a secure building. What's your plan?", successKeywords: ['infiltrate', 'sneak', 'access', 'enter', 'penetrate', 'bypass'], failureMessage: "You get caught at the entrance.", successMessage: "You sneak in successfully and continue your investigation! 🕵️" },
            { prompt: "Level 4: A crucial witness is uncooperative. How do you get them to talk?", successKeywords: ['persuade', 'question', 'interrogate', 'convince', 'coax', 'charm'], failureMessage: "The witness stays silent.", successMessage: "You persuade the witness to share valuable information! 💬" },
            { prompt: "Level 5: The suspect is on the move again. What do you do?", successKeywords: ['track', 'monitor', 'chase', 'pursue', 'follow', 'shadow'], failureMessage: "You lose track of the suspect.", successMessage: "You track the suspect to their hideout! 🏚️" },
            { prompt: "Level 6: It's time to apprehend the suspect. How do you proceed?", successKeywords: ['arrest', 'confront', 'capture', 'detain', 'apprehend', 'seize'], failureMessage: "The suspect escapes.", successMessage: "You successfully apprehend the suspect! 🚓" }
        ],
        "Sci-Fi Adventure": [
            { prompt: "Level 1: Your spaceship encounters a mysterious signal. What do you do?", successKeywords: ['investigate', 'analyze', 'examine', 'inspect', 'explore', 'decode'], failureMessage: "You ignore the signal and miss an opportunity.", successMessage: "You investigate the signal and discover a new planet! 🌍" },
            { prompt: "Level 2: An alien ship approaches. What's your next move?", successKeywords: ['communicate', 'contact', 'approach', 'greet', 'hail', 'signal'], failureMessage: "The alien ship attacks.", successMessage: "You successfully communicate and establish friendly contact! 👽" },
            { prompt: "Level 3: A system malfunction occurs. How do you handle it?", successKeywords: ['repair', 'fix', 'resolve', 'troubleshoot', 'diagnose', 'patch'], failureMessage: "The malfunction worsens.", successMessage: "You successfully repair the malfunction and restore the ship's functions! 🛠️" },
            { prompt: "Level 4: You encounter an unknown space anomaly. What's your plan?", successKeywords: ['analyze', 'study', 'research', 'examine', 'investigate', 'observe'], failureMessage: "The anomaly damages your ship.", successMessage: "You analyze the anomaly and navigate safely! 🌌" },
            { prompt: "Level 5: You need to make a crucial decision to save your crew. What do you do?", successKeywords: ['decide', 'choose', 'plan', 'execute', 'act', 'lead'], failureMessage: "Your decision leads to a crisis.", successMessage: "Your decision saves the crew and the mission continues! 👩‍🚀👨‍🚀" },
            { prompt: "Level 6: You discover a habitable planet. How do you proceed?", successKeywords: ['explore', 'land', 'survey', 'investigate', 'settle', 'colonize'], failureMessage: "Your landing attempt fails.", successMessage: "You successfully land and begin exploring the new planet! 🌍🚀" },
            { prompt: "Level 7: You find alien technology on the planet. What's your next step?", successKeywords: ['study', 'analyze', 'reverse-engineer', 'examine', 'utilize', 'exploit'], failureMessage: "The technology backfires.", successMessage: "You harness the alien technology and make groundbreaking discoveries! 🛸✨" }
        ],
        "Haunted House": [
            { prompt: "Level 1: You enter an old, abandoned house at midnight. You hear strange noises. What's your first move? 🏚️👻", successKeywords: ['explore', 'investigate', 'search', 'look', 'observe', 'inspect'], failureMessage: "You run away scared and miss crucial clues.", successMessage: "You bravely explore and find an old diary! 📖" },
            { prompt: "Level 2: The diary hints at a hidden room. How do you find it? 📓🕵️‍♂️", successKeywords: ['search', 'explore', 'investigate', 'look', 'inspect', 'examine'], failureMessage: "You fail to find the hidden room.", successMessage: "You discover the hidden room behind a bookcase! 📚" },
            { prompt: "Level 3: You hear footsteps behind you. How do you handle it? 👣😨", successKeywords: ['turn', 'look', 'confront', 'investigate', 'face', 'check'], failureMessage: "You freeze in fear and miss important details.", successMessage: "You turn around and see a friendly ghost guiding you! 👻😊" },
            { prompt: "Level 4: You find a locked chest. What do you do? 🗝️🔒", successKeywords: ['open', 'unlock', 'break', 'investigate', 'search', 'find'], failureMessage: "You give up on the chest.", successMessage: "You open the chest and find ancient relics! 🏺" },
            { prompt: "Level 5: The ghost reveals a secret passage. Do you enter? 👻🚪", successKeywords: ['enter', 'explore', 'go', 'proceed', 'venture', 'investigate'], failureMessage: "You hesitate and miss the opportunity.", successMessage: "You enter and find a hidden underground chamber! 🕳️" },
            { prompt: "Level 6: The chamber has strange symbols. How do you decipher them? 🔮📜", successKeywords: ['decipher', 'interpret', 'translate', 'study', 'analyze', 'examine'], failureMessage: "You fail to understand the symbols.", successMessage: "You decipher the symbols and reveal a hidden treasure! 💎" },
            { prompt: "Level 7: The treasure is cursed! How do you lift the curse? 😱🧿", successKeywords: ['break', 'lift', 'dispel', 'remove', 'cleanse', 'destroy'], failureMessage: "You trigger the curse and face dire consequences.", successMessage: "You lift the curse and claim the treasure safely! 🏆" }
        ],
        "Time Travel": [
            { prompt: "Level 1: You discover a time machine. What year do you travel to first? 🕰️🚀", successKeywords: ['future', 'past', 'ancient', 'medieval', 'modern', 'prehistoric'], failureMessage: "You hesitate and the machine shuts down.", successMessage: "You set the time machine and travel to an exciting era! 🌐" },
            { prompt: "Level 2: You meet a famous historical figure. How do you introduce yourself? 🧑‍🎤🏛️", successKeywords: ['introduce', 'greet', 'meet', 'present', 'approach', 'engage'], failureMessage: "You fail to make a good impression.", successMessage: "You introduce yourself and gain valuable insights! 🧠" },
            { prompt: "Level 3: A crucial event is about to occur. Do you intervene? 🌪️⏳", successKeywords: ['intervene', 'help', 'assist', 'stop', 'prevent', 'act'], failureMessage: "You miss the opportunity to make a difference.", successMessage: "You intervene and change the course of history! 📜" },
            { prompt: "Level 4: Your time machine malfunctions. How do you fix it? 🛠️🕰️", successKeywords: ['repair', 'fix', 'resolve', 'troubleshoot', 'diagnose', 'patch'], failureMessage: "The malfunction worsens.", successMessage: "You successfully repair the time machine and resume your journey! 🔧" },
            { prompt: "Level 5: You encounter a paradox. How do you resolve it? 🔄🌀", successKeywords: ['resolve', 'fix', 'solve', 'unravel', 'untangle', 'understand'], failureMessage: "The paradox causes a time loop.", successMessage: "You resolve the paradox and restore the timeline! 🕰️✨" },
            { prompt: "Level 6: You find yourself in a futuristic city. What's your first move? 🌃🚀", successKeywords: ['explore', 'investigate', 'look', 'observe', 'inspect', 'search'], failureMessage: "You get lost in the city.", successMessage: "You explore the city and uncover advanced technology! 🏙️" },
            { prompt: "Level 7: You must return to your own time. How do you ensure a safe trip back? 🏠🕰️", successKeywords: ['return', 'travel', 'go', 'navigate', 'operate', 'use'], failureMessage: "You get stranded in another time.", successMessage: "You successfully navigate back to your own time and complete your adventure! 🎉" }
        ]
    };

    document.getElementById('start-button').addEventListener('click', startGame);
    document.querySelector('.theme-toggle').addEventListener('click', () => {
        document.body.classList.toggle('dark-theme');
    });

    let currentLevel = 0;
    let currentTopicIndex = 0;
    let storyLog = '';
    let totalDataReward = 0;
    const topics = Object.keys(levels);

    function startGame() {
        currentTopicIndex = 0;
        totalDataReward = 0;
        startTopic(topics[currentTopicIndex]);
    }

    function startTopic(topic) {
        currentLevel = 0;
        storyLog = '';
        document.getElementById('start-game').style.display = 'none';
        document.getElementById('mystery-writer').style.display = 'block';
        document.getElementById('story-title').textContent = topic; // Display story title
        // Ensure current-data-reward element is updated if used
        // document.getElementById('current-data-reward').textContent = `${totalDataReward}MB`;
        showPrompt();
    }

    function showPrompt() {
        const level = levels[topics[currentTopicIndex]][currentLevel];
        const gameDisplay = document.getElementById('game-display');
        gameDisplay.innerHTML = `<p>${level.prompt}</p>`;
    }

    document.getElementById('submit-challenge').addEventListener('click', () => {
        const userInput = document.getElementById('user-input').value.toLowerCase();
        const level = levels[topics[currentTopicIndex]][currentLevel];
        const success = level.successKeywords.some(keyword => userInput.includes(keyword));

        const gameDisplay = document.getElementById('game-display');
        const feedback = document.getElementById('feedback');

        gameDisplay.innerHTML += `<p>You: ${userInput}</p>`;
        gameDisplay.innerHTML += `<p>Analyzing...</p>`;

        setTimeout(() => {
            gameDisplay.innerHTML = gameDisplay.innerHTML.replace('<p>Analyzing...</p>', '');

            if (success) {
                storyLog += `${level.prompt}\n${level.successMessage}\n\n`;
                gameDisplay.innerHTML += `<p>${level.successMessage}</p>`;
                feedback.textContent = 'Success! 🎉 Excellent descriptive power. Good job analyzing the situation.👏👏🫡';
                document.getElementById('next-level').style.display = 'block';
            } else {
                gameDisplay.innerHTML += `<p>${level.failureMessage}</p>`;
                feedback.textContent = 'Try again! ❌ You need to be more descriptive and specific, don\'t give up my friend! ✍️💪🏾😊';
            }
        }, 2000); // 2-second delay to simulate analysis
    });

    document.getElementById('next-level').addEventListener('click', () => {
        currentLevel++;
        document.getElementById('user-input').value = '';
        document.getElementById('next-level').style.display = 'none';

        if (currentLevel < levels[topics[currentTopicIndex]].length) {
            showPrompt();
        } else {
            totalDataReward += 20;
            endStory();
        }
    });

    function endStory() {
        document.getElementById('final-message').style.display = 'block';
        document.getElementById('game-display').innerHTML += '<p>Well done! You completed all levels! 🏆</p>';
    }

    document.getElementById('continue-game').addEventListener('click', () => {
        document.getElementById('final-message').style.display = 'none';
        if (currentTopicIndex < topics.length - 1) {
            currentTopicIndex++;
            startTopic(topics[currentTopicIndex]);
        } else {
            endGame();
        }
    });

    document.getElementById('stop-game').addEventListener('click', () => {
        endGame();
    });

    function endGame() {
        document.getElementById('end-game').style.display = 'block';
        document.getElementById('total-data-reward').textContent = `${totalDataReward}MB`;
    }

    document.getElementById('download-txt').addEventListener('click', () => {
        downloadResponses('txt');
    });

    document.getElementById('download-word').addEventListener('click', () => {
        downloadResponses('docx');
    });

    function downloadResponses(format) {
        const randomNumbers = Math.floor(Math.random() * 90000) + 10000;
        const finalLog = storyLog + `\nGenerated by 9jahotblog Storybooks ${randomNumbers}`;

        let element;
        if (format === 'txt') {
            const file = new Blob([finalLog], { type: 'text/plain' });
            element = document.createElement('a');
            element.href = URL.createObjectURL(file);
            element.download = 'story.txt';
        } else if (format === 'docx') {
            const file = new Blob([finalLog], { type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' });
            element = document.createElement('a');
            element.href = URL.createObjectURL(file);
            element.download = 'story.docx';
        }
        
        document.body.appendChild(element);
        element.click();
        document.body.removeChild(element);
    }
    </script>
</body>

    <!-- Plot Generator Game Section -->
<section id="plot-generator">
    <div class="profile-container">
        <h2>Plot Generator Game</h2>
        <button class="theme-toggle">🌙</button>
        <p>Welcome to the Plot Generator! Select your preferred genre and theme, and generate a unique and detailed story plot.</p>
        
        <div>
            <label for="genre">Select Genre:</label>
            <select id="genre">
                <option value="Fantasy">Fantasy</option>
                <option value="Science Fiction">Science Fiction</option>
                <option value="Mystery">Mystery</option>
                <option value="Romance">Romance</option>
                <option value="Horror">Horror</option>
                <option value="Historical">Historical</option>
                <option value="Thriller">Thriller</option>
                <option value="Adventure">Adventure</option>
                <option value="Drama">Drama</option>
                <option value="Comedy">Comedy</option>
                <option value="Billionaire Romance">Billionaire Romance</option>
                <option value="Anime">Anime</option>
                <option value="Humor">Humor</option>
                <option value="Superhero">Superhero</option>
                <option value="Young Adult">Young Adult</option>
            </select>
        </div>
        
        <div>
            <label for="theme">Select Theme:</label>
            <select id="theme">
                <option value="Adventure">Adventure</option>
                <option value="Time Travel">Time Travel</option>
                <option value="Forbidden Love">Forbidden Love</option>
                <option value="Haunted House">Haunted House</option>
                <option value="Heist">Heist</option>
                <option value="Survival">Survival</option>
                <option value="Revenge">Revenge</option>
                <option value="Betrayal">Betrayal</option>
                <option value="Redemption">Redemption</option>
                <option value="Discovery">Discovery</option>
                <option value="Secret Identity">Secret Identity</option>
                <option value="Corruption">Corruption</option>
                <option value="Political Intrigue">Political Intrigue</option>
                <option value="Love Triangle">Love Triangle</option>
                <option value="Lost Civilization">Lost Civilization</option>
            </select>
        </div>
        
        <button id="generate-plot">Generate Plot</button>
        
        <div id="plot-display" style="margin-top: 20px; border: 1px solid #ccc; padding: 10px; height: 300px; overflow-y: scroll;">
            <strong>Your Generated Plot:</strong>
            <p id="plot-content"></p>
        </div>
    </div>
</section>

<script>
    const plots = {
        "Fantasy": {
            "Adventure": [
                "A young sorcerer discovers an ancient prophecy that foretells the rise of a dark lord. They must gather allies and magical artifacts to prevent the prophecy from coming true.",
                "In a magical realm, a group of rebels fights against a tyrannical king who has stolen the power of the gods. They must undertake a perilous journey to reclaim the stolen power and restore balance.",
                // Add more detailed fantasy adventure plots here
            ],
            "Time Travel": [
                "A time-traveling mage accidentally disrupts the timeline and must team up with their past self to fix the errors before reality collapses.",
                "An ancient artifact enables a scholar to travel through different historical eras, but each jump reveals hidden magical secrets that could alter the course of history.",
                // Add more detailed fantasy time travel plots here
            ],
            // Add more themes for Fantasy genre
        },
        "Science Fiction": {
            "Adventure": [
                "A space captain on the brink of retirement is called back into action to prevent an intergalactic war sparked by a rogue AI threatening the galaxy's peace.",
                "In a dystopian future, a group of rebels discovers a hidden space station with advanced technology that could change humanity's fate. They must navigate political intrigue and corporate espionage to unlock its secrets.",
                // Add more detailed sci-fi adventure plots here
            ],
            "Time Travel": [
                "A scientist invents a time-travel device that allows people to witness significant historical events. However, when the device is stolen, they must prevent a plot to alter the past for personal gain.",
                "In a future where time travel is regulated, a black-market traveler uncovers a conspiracy that threatens to rewrite history, leading to a high-stakes chase across time periods.",
                // Add more detailed sci-fi time travel plots here
            ],
            // Add more themes for Science Fiction genre
        },
        "Romance": {
            "Forbidden Love": [
                "A young woman from a modest background falls in love with a wealthy businessman, but their relationship faces obstacles from both their families and society.",
                "In a world where social classes are rigidly divided, two lovers from opposing sides must navigate societal expectations and personal sacrifices to be together.",
                // Add more detailed romance forbidden love plots here
            ],
            "Billionaire Romance": [
                "A successful billionaire develops an unexpected romantic interest in their personal assistant, leading to complications in both their professional and personal lives.",
                "An aspiring artist captures the heart of a reclusive billionaire, but their relationship is tested by the media scrutiny and the billionaire's hidden past.",
                // Add more detailed billionaire romance plots here
            ],
            // Add more themes for Romance genre
        },
        "Horror": {
            "Haunted House": [
                "A family moves into an old mansion, only to find that it is haunted by spirits seeking revenge for past wrongs. They must uncover the house's dark history to escape.",
                "A group of paranormal investigators spends a night in a notorious haunted house, but their skepticism is challenged when they encounter terrifying supernatural phenomena.",
                // Add more detailed horror haunted house plots here
            ],
            "Survival": [
                "After a plane crash leaves them stranded in a remote forest, a group of survivors must confront both the harsh elements and a sinister force lurking in the shadows.",
                "A town is cut off from civilization by a supernatural blizzard, and its inhabitants must find a way to survive as they uncover dark secrets about their community.",
                // Add more detailed horror survival plots here
            ],
            // Add more themes for Horror genre
        },
        "Historical": {
            "Political Intrigue": [
                "In the midst of a historical revolution, a low-ranking official uncovers a conspiracy that threatens to topple the government. They must navigate a web of deceit to protect their country.",
                "During a turbulent period in history, a diplomat must unravel a complex political plot involving international espionage, secret alliances, and betrayals.",
                // Add more detailed historical political intrigue plots here
            ],
            "Lost Civilization": [
                "An expedition uncovers the ruins of a long-lost civilization with advanced technology. The team must decode ancient mysteries and prevent a rival faction from exploiting the discoveries.",
                "A historian discovers evidence of a vanished empire hidden beneath modern cities, leading to a thrilling adventure filled with ancient secrets and dangerous foes.",
                // Add more detailed historical lost civilization plots here
            ],
            // Add more themes for Historical genre
        },
        "Thriller": {
            "Secret Identity": [
                "A covert operative with a hidden identity must stop a global conspiracy that threatens to unleash chaos. As they dig deeper, they face peril from both enemies and allies.",
                "A journalist stumbles upon a top-secret organization and must unravel the truth behind their covert operations while evading dangerous pursuers.",
                // Add more detailed thriller secret identity plots here
            ],
            "Corruption": [
                "An idealistic detective uncovers a network of corruption within the police force and must risk everything to expose the truth while avoiding deadly retribution.",
                "A corporate whistleblower discovers evidence of massive financial fraud and must navigate a perilous path to bring the perpetrators to justice without becoming a target themselves.",
                // Add more detailed thriller corruption plots here
            ],
            // Add more themes for Thriller genre
        },
        "Adventure": {
            "Lost Treasure": [
                "A treasure hunter follows an ancient map to a remote island, uncovering a series of puzzles and traps designed to protect a legendary fortune from falling into the wrong hands.",
                "A group of explorers searches for a fabled lost city rumored to hold unimaginable wealth, but they must contend with rival treasure hunters and the dangers of the uncharted wilderness.",
                // Add more detailed adventure lost treasure plots here
            ],
            "Expedition": [
                "A daring expedition sets out to explore the deepest parts of the Amazon jungle, discovering hidden tribes, ancient ruins, and a powerful artifact with unknown powers.",
                "A team of scientists ventures to the Arctic to investigate mysterious signals from beneath the ice, only to find themselves in a race against time to survive a catastrophic event.",
                // Add more detailed adventure expedition plots here
            ],
            // Add more themes for Adventure genre
        },
        "Drama": {
            "Family Secrets": [
                "After the death of their estranged father, a group of siblings uncovers hidden family secrets that force them to confront their past and redefine their relationships.",
                "A renowned artist's family struggles with the fallout from a shocking revelation about the artist's life, leading to personal revelations and family conflicts.",
                // Add more detailed drama family secrets plots here
            ],
            "Personal Redemption": [
                
            "After a career-ending scandal, former sports star Jack Harris hits rock bottom. With the help of a wise old coach, Jack begins to rebuild his life by mentoring at-risk youth. As he confronts his past mistakes and learns to forgive himself, Jack discovers a new purpose and a chance to redeem his legacy.", 
            "Haunted by a tragic accident, Dr. Sophia Patel quits her medical practice and escapes to a remote village. There, she meets a young girl in need of life-saving surgery. Sophia must confront her inner demons and face her fears to perform the operation, finding redemption through her selfless act.", 
            "Ex-con Alex Thompson returns to his hometown determined to make amends for past wrongs. He takes a job at a local diner, where he befriends a single mother and her troubled son. As Alex helps them heal and find hope, he earns a chance to redeem himself and start anew.",
            "Struggling artist Lily Chen abandons her passion after a harsh critic destroys her confidence. Years later, a chance encounter with a talented street artist inspires Lily to rediscover her creative voice. Through her art, she confronts her self-doubt and finds redemption, emerging stronger and more authentic.",
            "After inheriting a failing family business, James Lee must confront the mistakes of his ancestors and restore honor to his family's name. Through hard work and determination, James revives the business and makes amends with his community, redeeming his family's legacy and forging a new path forward.",
            "A former criminal seeking redemption returns to their hometown to make amends, only to find their past actions have left deep scars on those they once hurt.",
            "An exiled leader strives to reclaim their position and make up for their past mistakes while navigating treacherous political waters and personal betrayals.",
                // Add more detailed drama personal redemption plots here
            ],
        },
        "Comedy": {
            "Romantic Comedy": [
                "Two unlikely individuals meet through a series of comedic misunderstandings and mishaps, gradually discovering that their differences complement each other perfectly.",
                "A bumbling yet endearing matchmaker's attempts to find true love for their clients lead to a series of hilarious and heartwarming events.",
                // Add more detailed comedy romantic comedy plots here
            ],
            "Workplace Humor": [
                "An eccentric new manager starts at a quirky company, causing chaos and hilarity as they attempt to implement radical changes and connect with their bizarre staff.",
                "In a highly competitive office environment, a group of coworkers navigates the ups and downs of their daily grind with humor and camaraderie, leading to unexpected friendships.",
                // Add more detailed comedy workplace humor plots here
            ],
            // Add more themes for Comedy genre
        },
        "Billionaire Romance": {
            "Corporate Drama": [
                "A billionaire CEO falls for a low-level employee, and their relationship is tested by office politics, corporate rivalries, and public scrutiny.",
                "After a sudden merger, a billionaire must navigate a whirlwind romance with a business partner while facing the challenges of uniting two vastly different company cultures.",
                // Add more detailed billionaire romance corporate drama plots here
            ],
            "Glamorous Lifestyle": [
                "A down-to-earth journalist gets involved with a reclusive billionaire, leading to a glamorous yet tumultuous romance filled with high society intrigues and media attention.",
                "A wealthy philanthropist's relationship with a struggling artist becomes a media sensation, forcing them to confront their differing lifestyles and public expectations.",
                // Add more detailed billionaire romance glamorous lifestyle plots here
            ],
            // Add more themes for Billionaire Romance genre
        },
        "Anime": {
            "High School Drama": [
                "A new transfer student with a mysterious past shakes up a high school, leading to a series of dramatic events and deep connections with a group of eclectic classmates.",
                "In a world where students have special powers, a shy teenager discovers their hidden abilities and must navigate friendships, rivalries, and a looming threat to their school.",
                // Add more detailed anime high school drama plots here
            ],
            "Fantasy Adventure": [
                "A young hero from a small village embarks on a quest to defeat a dark sorcerer, gathering allies with unique abilities and uncovering secrets about their own destiny.",
                "In a magical world where dreams and reality merge, a group of friends must navigate fantastical realms and face personal challenges to restore balance and peace.",
                // Add more detailed anime fantasy adventure plots here
            ],
            // Add more themes for Anime genre
        },
        "Humor": {
            "Parody": [
                "A group of friends creates a hilarious parody of popular superhero movies, only to find themselves inadvertently caught up in real-life superhero antics.",
                "In a fictional world where mythical creatures hold office positions, a bumbling new recruit's attempts to fit in lead to comedic chaos and unexpected heroism.",
                // Add more detailed humor parody plots here
            ],
            "Situational Comedy": [
                "A group of mismatched roommates navigates the absurdities of daily life in their chaotic apartment, leading to a series of humorous and heartwarming situations.",
                "In a small town with eccentric residents, a newcomer tries to fit in while dealing with bizarre town traditions and quirky neighbors.",
                // Add more detailed humor situational comedy plots here
            ],
            // Add more themes for Humor genre
        },
        "Superhero": {
            "Origin Story": [
                "An ordinary person gains superpowers and must balance their new responsibilities with their everyday life while learning to control their abilities and fight emerging threats.",
                "A seasoned superhero trains a new generation of heroes, facing challenges from a rising villain and personal struggles as they mentor the next wave of protectors.",
                // Add more detailed superhero origin story plots here
            ],
            "Team Dynamics": [
                "A team of diverse superheroes with clashing personalities must work together to thwart an apocalyptic threat, learning to trust and support each other in the process.",
                "In a city protected by a team of superheroes, internal conflicts and differing ideologies lead to tension as they confront a villain capable of dividing their unity.",
                // Add more detailed superhero team dynamics plots here
            ],
            // Add more themes for Superhero genre
        },
        "Young Adult": {
            "Coming of Age": [
                "A teenager navigates the trials of high school while dealing with family issues, budding relationships, and the challenge of discovering their true self.",
                "In a world where everyone receives a unique gift at eighteen, a young adult struggles with their late blooming ability and the impact it has on their future.",
                // Add more detailed young adult coming of age plots here
            ],
            "Fantasy World": [
                "A group of high school friends discovers a hidden portal to a magical world where they must come of age while battling dark forces and uncovering their destinies.",
                "An ordinary student finds themselves transported to a fantasy realm where they must adapt to new rules and responsibilities while dealing with threats from an ancient evil.",
                // Add more detailed young adult fantasy world plots here
            ],
            // Add more themes for Young Adult genre
        }
    };

    document.getElementById('generate-plot').addEventListener('click', () => {
        const genre = document.getElementById('genre').value;
        const theme = document.getElementById('theme').value;

        const genrePlots = plots[genre] || {};
        const themePlots = genrePlots[theme] || [];
        
        if (themePlots.length > 0) {
            const randomPlot = themePlots[Math.floor(Math.random() * themePlots.length)];
            document.getElementById('plot-content').innerText = `Genre: ${genre}\nTheme: ${theme}\nPlot: ${randomPlot}`;
        } else {
            document.getElementById('plot-content').innerText = `No plots available for the selected genre and theme.`;
        }
    });
</script>

                

                <!-- X and O Game Section -->
<section id="tic-tac-toe">
    <div class="profile-container">
        <h2>X and O Game (Tic-Tac-Toe)</h2>
        <button class="theme-toggle">🌙</button>
        <p>Welcome to the classic Tic-Tac-Toe game. Play against the 9jahotblog AI and see if you can win!</p>
        
        <div id="game-board" style="display: grid; grid-template-columns: repeat(3, 100px); gap: 5px;">
            <!-- Game cells will be inserted here -->
        </div>
        
        <button id="reset-game" style="margin-top: 20px;">Reset Game</button>
        
        <div id="game-status" style="margin-top: 10px; font-weight: bold;"></div>
    </div>
</section>

<script>
    const gameBoard = document.getElementById('game-board');
    const gameStatus = document.getElementById('game-status');
    const resetButton = document.getElementById('reset-game');
    let board;
    let currentPlayer;
    
    function initializeGame() {
        board = Array(9).fill(null);
        currentPlayer = 'X';
        gameStatus.innerText = "Your turn";
        gameBoard.innerHTML = '';
        
        for (let i = 0; i < 9; i++) {
            const cell = document.createElement('div');
            cell.style.width = '100px';
            cell.style.height = '100px';
            cell.style.display = 'flex';
            cell.style.alignItems = 'center';
            cell.style.justifyContent = 'center';
            cell.style.border = '1px solid #000';
            cell.style.fontSize = '24px';
            cell.style.cursor = 'pointer';
            cell.dataset.index = i;
            cell.addEventListener('click', handleCellClick);
            gameBoard.appendChild(cell);
        }
    }
    
    function handleCellClick(event) {
        const cell = event.target;
        const index = cell.dataset.index;
        
        if (!board[index] && currentPlayer === 'X') {
            makeMove(index, 'X');
            if (!checkWin('X') && !board.every(cell => cell)) {
                setTimeout(makeAiMove, 500);
            }
        }
    }
    
    function makeMove(index, player) {
        board[index] = player;
        gameBoard.children[index].innerText = player;
        if (checkWin(player)) {
            displayResult(player);
        } else if (board.every(cell => cell)) {
            gameStatus.innerText = 'It\'s a tie!';
            displayCelebration();
        } else {
            currentPlayer = player === 'X' ? 'O' : 'X';
            gameStatus.innerText = `${currentPlayer === 'X' ? "Your" : "9jahotblog AI's"} turn`;
        }
    }
    
    function makeAiMove() {
        const emptyIndices = board.map((val, idx) => val === null ? idx : null).filter(val => val !== null);
        let bestMove = getBestMove();
        makeMove(bestMove, 'O');
    }

    function getBestMove() {
        // Implement a smarter AI using the minimax algorithm or other strategies
        return board.map((val, idx) => val === null ? idx : null).filter(val => val !== null)[0]; // Placeholder for demonstration
    }
    
    function checkWin(player) {
        const winningCombinations = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8],
            [0, 3, 6], [1, 4, 7], [2, 5, 8],
            [0, 4, 8], [2, 4, 6]
        ];
        
        return winningCombinations.some(combination => {
            return combination.every(index => board[index] === player);
        });
    }
    
    function displayResult(player) {
        if (player === 'X') {
            gameStatus.innerText = 'You win! 🎉';
        } else {
            gameStatus.innerText = '9jahotblog AI wins! It whooped you! 🎁';
        }
        displayCelebration();
    }
    
    function displayCelebration() {
        // Create a celebration element
        const celebration = document.createElement('div');
        celebration.innerText = '🎉🎉🎉';
        celebration.style.position = 'fixed';
        celebration.style.top = '50%';
        celebration.style.left = '50%';
        celebration.style.transform = 'translate(-50%, -50%)';
        celebration.style.fontSize = '48px';
        celebration.style.zIndex = '1000';
        document.body.appendChild(celebration);

        setTimeout(() => {
            document.body.removeChild(celebration);
        }, 2000); // Remove celebration after 2 seconds
    }
    
    resetButton.addEventListener('click', initializeGame);
    
    initializeGame();
</script>
                

<!-- Memory Match Game Section -->
<section id="memory-match">
    <div class="profile-container">
        <h2>Memory Match Game</h2>
        <button class="theme-toggle">🌙</button>
        <p>Test your memory and concentration by finding matching pairs of cards. Click on the cards to reveal them and try to find all the pairs. Your time will be tracked!</p>
        
        <div id="game-board" style="display: grid; grid-template-columns: repeat(4, 100px); gap: 5px;">
            <!-- Game cards will be inserted here -->
        </div>
        
        <div id="game-status" style="margin-top: 10px; font-weight: bold;"></div>
        <div id="timer" style="margin-top: 10px;">Time: 0s</div>
        <button id="reset-game" style="margin-top: 20px;">Reset Game</button>
    </div>
</section>

<script>
    const gameBoard = document.getElementById('game-board');
    const gameStatus = document.getElementById('game-status');
    const timerDisplay = document.getElementById('timer');
    const resetButton = document.getElementById('reset-game');
    let board;
    let flippedCards = [];
    let matchesFound = 0;
    let timer;
    let seconds = 0;
    const cardImages = [
        '🍎', '🍌', '🍒', '🍓', '🍇', '🍉', '🍊', '🍋',
        '🍎', '🍌', '🍒', '🍓', '🍇', '🍉', '🍊', '🍋'
    ];
    
    function initializeGame() {
        board = shuffleArray(cardImages.slice());
        flippedCards = [];
        matchesFound = 0;
        seconds = 0;
        gameStatus.innerText = '';
        timerDisplay.innerText = 'Time: 0s';
        gameBoard.innerHTML = '';
        clearInterval(timer);
        
        for (let i = 0; i < 16; i++) {
            const card = document.createElement('div');
            card.style.width = '100px';
            card.style.height = '100px';
            card.style.display = 'flex';
            card.style.alignItems = 'center';
            card.style.justifyContent = 'center';
            card.style.border = '1px solid #000';
            card.style.fontSize = '24px';
            card.style.cursor = 'pointer';
            card.style.backgroundColor = '#ddd';
            card.dataset.index = i;
            card.addEventListener('click', handleCardClick);
            gameBoard.appendChild(card);
        }
        
        timer = setInterval(() => {
            seconds++;
            timerDisplay.innerText = `Time: ${seconds}s`;
        }, 1000);
    }
    
    function handleCardClick(event) {
        const card = event.target;
        const index = card.dataset.index;
        
        if (flippedCards.length < 2 && !card.classList.contains('flipped') && !card.classList.contains('matched')) {
            card.innerText = board[index];
            card.classList.add('flipped');
            flippedCards.push(card);
            
            if (flippedCards.length === 2) {
                checkMatch();
            }
        }
    }
    
    function checkMatch() {
        const [card1, card2] = flippedCards;
        const index1 = card1.dataset.index;
        const index2 = card2.dataset.index;
        
        if (board[index1] === board[index2]) {
            card1.classList.add('matched');
            card2.classList.add('matched');
            matchesFound++;
            if (matchesFound === cardImages.length / 2) {
                setTimeout(() => {
                    clearInterval(timer);
                    gameStatus.innerText = `Congratulations! You finished in ${seconds}s.`;
                }, 500);
            }
        } else {
            setTimeout(() => {
                card1.innerText = '';
                card2.innerText = '';
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
            }, 1000);
        }
        flippedCards = [];
    }
    
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }
    
    resetButton.addEventListener('click', initializeGame);
    
    initializeGame();
</script>


                
                <!-- Chat Section -->
                <section id="chat-section">
                    <div class="profile-container">
                        <button class="theme-toggle">🌙</button>
                        <h2>9jahotblog Chat AI</h2>
                        <div id="chat-box" style="height: 300px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
                            <div id="chat-messages"></div>
                        </div>
                        <input type="text" id="chat-input" placeholder="Type your message here..." style="width: 80%;">
                        <button id="send-message">Send</button>
                    </div>
                </section>
    
                  <script> 
                   document.getElementById('send-message').addEventListener('click', () => {
    const chatInput = document.getElementById('chat-input');
    const chatMessages = document.getElementById('chat-messages');
    const userMessage = chatInput.value.trim();

    if (userMessage === '') {
        return;
    }

    // Add user message to chat
    const userMessageElement = document.createElement('div');
    userMessageElement.textContent = `You: ${userMessage}`;
    chatMessages.appendChild(userMessageElement);

    // Clear input
    chatInput.value = '';

    // Simulate AI response (Replace this part with actual AI response logic if available)
    setTimeout(() => {
        const aiResponse = `AI: I'm here to assist you, ${userMessage}`;
        const aiMessageElement = document.createElement('div');
        aiMessageElement.textContent = aiResponse;
        chatMessages.appendChild(aiMessageElement);

        // Scroll to the bottom of the chat box
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }, 1000);
});

// Theme toggle functionality
document.querySelectorAll('.theme-toggle').forEach(button => {
    button.addEventListener('click', () => {
        document.body.classList.toggle('dark-theme');
    });
});

// Optional: Handle Enter key press to send message
document.getElementById('chat-input').addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
        document.getElementById('send-message').click();
    }
});
                  </script>

        

                <!-- Text-to-Speech Section with Third-Party TTS Integration -->
<section id="tts-section">
    <div class="profile-container">
        <h2>Text-to-Speech</h2>
        <div id="tts-input" contenteditable="true" style="width: 100%; height: 200px; border: 1px solid #ccc; margin-bottom: 10px; overflow-y: scroll;"></div>
        <div>
            <button id="convert-speech">Convert to Speech</button>
            <button id="pause-speech">Pause</button>
            <button id="continue-speech">Continue</button>
            <button id="stop-speech">Stop</button>
        </div>
    </div>
</section>

<script>
    let audioContext;
    let source;
    let isPaused = false;
    let audioBuffer;

    // Function to highlight spoken text
    function highlightSpokenText(text) {
        const words = text.split(' ');
        let currentIndex = 0;

        const interval = setInterval(() => {
            if (currentIndex < words.length) {
                const span = document.createElement('span');
                span.style.backgroundColor = 'yellow';
                span.textContent = words[currentIndex] + ' ';
                words[currentIndex] = span.outerHTML;
                document.getElementById('tts-input').innerHTML = words.join(' ');

                const ttsInput = document.getElementById('tts-input');
                const highlightedWord = ttsInput.querySelector('span[style="background-color: yellow;"]');
                if (highlightedWord) {
                    ttsInput.scrollTop = highlightedWord.offsetTop - ttsInput.offsetTop;
                }

                currentIndex++;
            } else {
                clearInterval(interval);
            }
        }, 200); // Adjust the interval as needed
    }

    // Function to fetch and play TTS audio
    async function fetchAndPlayTTS(text) {
        const apiKey = 'AIzaSyCd_P4J5xgsXcyVaqUBtAHvhb1AWJUATvA';
        const url = `https://texttospeech.googleapis.com/v1beta1/text:synthesize`;
        
        const response = await fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                input: { text: text },
                voice: { languageCode: 'en-US', ssmlGender: 'NEUTRAL' },
                audioConfig: { audioEncoding: 'MP3' }
            })
        });

        const data = await response.json();
        const audioContent = data.audioContent;
        const audioString = `data:audio/mp3;base64,${audioContent}`;

        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const responseAudio = await fetch(audioString);
        const arrayBuffer = await responseAudio.arrayBuffer();
        audioBuffer = await audioContext.decodeAudioData(arrayBuffer);

        playAudio();
        highlightSpokenText(text);
    }

    // Function to play audio
    function playAudio() {
        source = audioContext.createBufferSource();
        source.buffer = audioBuffer;
        source.connect(audioContext.destination);
        source.start(0);
    }

    // Event listeners for TTS buttons
    document.getElementById('convert-speech').addEventListener('click', () => {
        const text = document.getElementById('tts-input').innerText;
        if (text.trim() !== "") {
            fetchAndPlayTTS(text);
        } else {
            alert("Please enter some text to convert to speech.");
        }
    });

    document.getElementById('pause-speech').addEventListener('click', () => {
        if (audioContext && audioContext.state === 'running') {
            audioContext.suspend();
            isPaused = true;
        }
    });

    document.getElementById('continue-speech').addEventListener('click', () => {
        if (audioContext && isPaused) {
            audioContext.resume();
            isPaused = false;
        }
    });

    document.getElementById('stop-speech').addEventListener('click', () => {
        if (source) {
            source.stop();
        }
    });
</script>
            

                <!-- Profile Benefits Section -->
                <section id="benefits-section">
                    <div class="profile-container">
                        <button class="theme-toggle">🌙</button>
                        <h2>Profile Benefits</h2>

                        <p>As a 9jahotblogger, you enjoy numerous benefits that elevate your writing experience and expand your reach. A detailed look at some of the incredible advantages you gain:</p>

                        <h3>Search Result Priority.</h3>
                        <p>Enjoy prioritized ranking in search results on both 9jahotblog, Google, and more.. Ensuring your content reaches a wider audience.</p>

                        <h3>Adaptations.</h3>
                        <p>Get free credits to adapt your book into a movie, create a marketing video, or movie trailer for your stories. Offering a significant boost to your creative career. For more information, <a href="https://9jahotblog.github.io/create-book-trailers-images-or-movies.html">Click here</a></p>

                        <h3>Exclusive Contests..</h3>
                        <p>Participate in exclusive contests that provide unique opportunities to showcase your talent and win exciting prizes.</p>

                        <h3>Monetization..</h3>
                        <p>Earn money from posting short stories and engaging your audience. Increased engagements lead to earnings.</p>

                        <h3>Analytics Tracking..</h3>
                        <p>Track the analytics of your posts by checking the post link page, allowing you to monitor and optimize your content's performance. There, you can see how your post is doing, feedbacks, earnings and more.. Can't wait to find out? Post today and share the links to get started!</p>

            <h3>Verified Badge..</h3>
            <p>Gain a verified badge after amassing significant engagements on your posts, enhancing your credibility and visibility, not only on 9jahotblog.</p>

            <h3>Introducing the 9jahotblog Verified Badge
                <img src="https://i.postimg.cc/YqZKVx4v/IMG-20240803-WA0027.jpg" alt="9jahotblog Verified Badge" style="width:25px;height:25px;vertical-align:middle;margin-right:5px;"></h3>
            <p>The 9jahotblog verified badge appears next to a person's username, indicating their profile is authentic and notable. They've posted multiple times and they've gained massive engagements and exposure.</p>
            <p>Users with a verified badge have access to additional features, such as:</p>

            <h3>AI Writing Assistant
                <img src="https://i.postimg.cc/YqZKVx4v/IMG-20240803-WA0027.jpg" alt="9jahotblog Verified Badge" style="width:25px;height:25px;vertical-align:middle;margin-right:5px;"></h3>
            <p>An AI assistant integrated here to evaluate writing, check grammar and spelling, ensuring your posts are polished and professional. Basically for rating, spelling check, image generation and more.. Users can also choose social media channel they want the bot to be. (Telegram&here Default)</p>

            <h3>Enhanced Earnings
                <img src="https://i.postimg.cc/YqZKVx4v/IMG-20240803-WA0027.jpg" alt="9jahotblog Verified Badge" style="width:25px;height:25px;vertical-align:middle;margin-right:5px;"></h3>
            <p>Earn for posting alone and receive higher earnings for massive engagements on your posts, making your writing efforts more rewarding.</p>

            <p>For custom verified badges, contact <a href="https://wa.me/+2349160331432">9jahotblog tech support</a> to join the waitlist. This service allows you to get a custom badge without the rigorous steps of obtaining it naturally and is endorsed by 9jahotblog. (You may have to sign up for this.)</p>
        </div>
    </section>

    <!-- Footer -->
    <footer id="footer">
        <ul class="icons">
            <li><a href="https://Twitter.com/koladhino" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
            <li><a href="https://www.facebook.com/profile.php?id=100092154756974" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
            <li><a href="https://Instagram.com/koladesworld" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
            <li><a href="https://github.com/philipsmith617" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
            <li><a href="mailto:9jahotblog2@gmail.com" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
        </ul>
        <ul class="copyright">
            <li>&copy; 9jahotblog. All rights reserved.</li>
            <li>Design: <a href="https://wa.me/+2349160331432">Philip</a></li>
        </ul>
    </footer>
    <button id="dark-mode-toggle">🌙</button>
</div>
</div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/jquery.dropotron.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut, updateProfile } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
    import { getFirestore, doc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyCzajY4QIxiRiob2ho-Cgkj6EtOz83AzI8",
        authDomain: "jahotblog-login.firebaseapp.com",
        projectId: "jahotblog-login",
        storageBucket: "jahotblog-login.appspot.com",
        messagingSenderId: "661526730601",
        appId: "1:661526730601:web:27a3c1624ccd6f20ab8c16c"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const db = getFirestore(app);

    let currentPage = 0;
    const bookContent = [
        "<p><strong>LONE RANGER</strong></p><p><i>I shivered as the cool wind blew dust into my eyes. I'd come for a long run before dawn by the beach, but now, I was winded.</i></p><p>My life was a suffocating mess and I needed the breathing space, so I took a much needed sabbatical from my job.</p><p>I was a pro-life and pro-God activist, making me automatically the target of every anti-Christ organisation. It was a good thing I was a lone ranger, with no family since my parents disowned me years ago because of my faith. The way the world had gone haywire, turning normalcy upside down, I just wished the return of the Lord was closer.</p>",
        "<p>All sorts of debauchery had been legalised all on the claim of human liberty. But when it came to mentions of truth, one was tagged a fanatic and was blatantly persecuted. As I was. I had received lots of threats. The most recent one that forced me to take this retreat was the lawsuit I was faced with a particular celebrity.</p><p>A popular popstar had sued me for allegedly defaming her. Her lyrics were clearly satanic and I'd only expressed my displeasure at how young people were being indoctrinated by her songs.</p>",
        "<p><i>I lay exhausted on the wet sand, spread eagle as I watch the sky light up with colours of the rising sun—pinks and oranges against a background of pale blue spotted with white fluffy clouds.</i></p><p>'Lord, I'm tired and exhausted. I don't think I can go on on this path. Everyone hates me. Can't you just come and take me home? Like right now.'</p><p>The voice of the Lord came softly on the wind.</p><p>'Those who wait upon me will renew their strengths. They will mount up with wings as eagles, they will run and not be weary, they will walk and not faint.'</p><p>I soaked in the word. I needed the reminder.</p>",
        "<p>A particular quote I'd read somewhere rang in my heart as I watched the crashing waves: <blockquote>'If you want to go fast go alone, but if you want to go far, go with others.'</blockquote></p><p>'Sam, there are many who haven't caved in to the system of this world. You need to find them and walk with them. Your lone ranger creed won't work anymore, son.'</p><p>As He spoke those words, I noticed a young brunette walking into the shallow waters with her surf board. She didn't seem to notice me and I was impressed that she wore a very modest swim suit as opposed to the bikini that was common place. I noticed the glint of the silver cross pendant she wore. I had a witness in my spirit that she was also a strong believer.</p>",
        "<p>She slid into the water and went under for such a long time that I panicked and considered diving in to rescue her from drowning.</p><p>Just as I was about to rise to her rescue, she came out sleek and wet, her face brimming with such joy and peace. I saw her clasp her hands in prayer and her lips moving. I watched her for a long time. She must have sensed my eyes because the moment she was done, she opened her eyes and looked straight at me with a beautiful smile.</p><p>'Go, speak to her,' the Lord's voice said.</p><p>'Lord? I'm ranting to you about my predicament. Asking you for a solution. Not this. I don't need a distraction right now.'</p><p>'She's the solution I'm providing you.'</p><p>I looked at the waves again as this nameless lady began to ride the next wave. I smiled, not minding one bit that God's choice for me was a gorgeous lady who was obviously crazily in love with Him and not ashamed to show it.</p><p><strong>AUTHOR: Praise Abraham</strong></p>"
    ];

    function updatePageContent() {
        document.getElementById("book-page").innerHTML = bookContent[currentPage];
    }

    document.getElementById("next-page").addEventListener("click", () => {
        if (currentPage < bookContent.length - 1) {
            currentPage++;
            updatePageContent();
        }
    });

    document.getElementById("prev-page").addEventListener("click", () => {
        if (currentPage > 0) {
            currentPage--;
            updatePageContent();
        }
    });

    updatePageContent(); // Initialize with the first page content

    function updateProgress(userId, newProgress) {
        const userRef = doc(db, "users", userId);
        updateDoc(userRef, {
            progress: newProgress
        }).then(() => {
            console.log("Progress updated successfully.");
        }).catch((error) => {
            console.error("Error updating progress:", error);
        });
    }

    function fetchNewPrompt() {
        const prompts = {
            "Christian fiction": ["Write about a miracle that changes a person's life.", "Describe a journey of faith."],
            "Racism": ["Describe a character's struggle against prejudice.", "Write about an event that challenges a community's beliefs."],
            "Fantasy": ["Create a world where magic is real.", "Describe a hero's quest to find a lost artifact."],
            "Science Fiction": ["Imagine a future where humans live on Mars.", "Write about a robot that gains consciousness."],
            "Mystery": ["Describe a detective solving a crime.", "Write about a person who finds a hidden treasure map."]
        };
        const genres = Object.keys(prompts);
        const randomGenre = genres[Math.floor(Math.random() * genres.length)];
        const randomPrompt = prompts[randomGenre][Math.floor(Math.random() * prompts[randomGenre].length)];
        return randomPrompt;
    }

    const suggestions = {
        "Once": "Once upon a time",
        "In": "In a land far away",
        "The": "The hero embarked on a journey",
        "I don't": "I don't know",
        "He is": "He is a brave warrior",
        "She was": "She was a kind soul",
        "They went": "They went on an adventure",
        "It was": "It was a dark and stormy night",
        "There is": "There is a secret door",
        "We can": "We can make it through",
        "A long": "A long time ago",
        "Far away": "Far away in a distant land",
        "In the": "In the beginning",
        "I am": "I am ready for the challenge"
    };

    document.getElementById("new-prompt-btn").addEventListener("click", () => {
        const newPrompt = fetchNewPrompt();
        document.getElementById("writing-prompt").innerText = newPrompt;
    });

    document.getElementById("writing-textbox").addEventListener("input", (event) => {
        const text = event.target.value;
        const words = text.trim().split(/\s+/);
        const lastWord = words[words.length - 1];
        const suggestion = suggestions[lastWord];
        if (suggestion) {
            event.target.value = text.slice(0, text.lastIndexOf(' ') + 1) + suggestion;
        }
        document.getElementById("word-count").innerText = `Word count: ${words.length}`;

        // Display congratulatory message based on word count
        let message = "";
        if (words.length >= 10) message = "Great start! Keep going.";
        if (words.length >= 50) message = "Impressive! You're on fire.";
        if (words.length >= 100) message = "Amazing! You're a true writer.";
        if (words.length >= 200) message = "Outstanding! Keep up the excellent work.";
        if (words.length >= 500) message = "Congratulations! You've written a masterpiece.";
        document.getElementById("congratulatory-message").innerText = message;
    });

    document.getElementById("publish-story").addEventListener("click", (event) => {
        event.preventDefault();
        const text = document.getElementById("writing-textbox").value;
        const words = text.trim().split(/\s+/);
        const wordCount = words.length;

        // Submit the form
        event.target.closest("form").submit();

        // Update progress in Firestore
        onAuthStateChanged(auth, (user) => {
            if (user) {
                updateProgress(user.uid, wordCount);
            }
        });
    });

    // Dark mode toggle with multiple colors
    let themeIndex = 0;
    const themes = ["#333", "#006400", "#FFD700", "#8B0000", "#0000CD", "#800080", "#FF69B4", "#FFA500"];
    function applyTheme(themeIndex) {
        document.body.style.backgroundColor = themes[themeIndex];
        document.body.style.color = themeIndex === 0 ? "#fff" : "#000";
        document.querySelectorAll('.profile-container, .writing-container, .book-reader-container, .library-container').forEach((element) => {
            element.style.backgroundColor = themes[themeIndex];
        });
    }

    document.getElementById("dark-mode-toggle").addEventListener("click", () => {
        themeIndex = (themeIndex + 1) % themes.length;
        applyTheme(themeIndex);
    });

    document.querySelectorAll('.theme-toggle').forEach((button) => {
        button.addEventListener("click", (event) => {
            themeIndex = (themeIndex + 1) % themes.length;
            event.currentTarget.closest('.profile-container, .writing-container, .book-reader-container, .library-container').style.backgroundColor = themes[themeIndex];
        });
    });

    // Authentication state observer
    onAuthStateChanged(auth, (user) => {
        if (user) {
            const userId = user.uid;
            document.getElementById("user-name").innerText = user.displayName;
            document.getElementById("user-email").innerText = user.email;
            document.getElementById("user-username").innerText = user.displayName;
            document.getElementById("profile-photo").src = user.photoURL;

            // Fetch user data from Firestore
            const userRef = doc(db, "users", userId);
            getDoc(userRef).then((doc) => {
                if (doc.exists()) {
                    const userData = doc.data();
                    document.getElementById("user-username").innerText = userData.username;
                    document.getElementById("user-email").innerText = userData.email;
                    document.getElementById("user-level").innerText = "9jahotblogger";
                } else {
                    console.log("No such document!");
                }
            }).catch((error) => {
                console.log("Error getting document:", error);
            });
        } else {
            window.location.href = "login-page.html";
        }
    });

    document.getElementById("logout").addEventListener("click", () => {
        signOut(auth).then(() => {
            window.location.href = "login-page.html";
        }).catch((error) => {
            console.error("Error signing out:", error);
        });
    });

    // Handle edit profile
    document.getElementById("edit-profile").addEventListener("click", () => {
        const newUsername = prompt("Enter new username:");
        const newEmail = prompt("Enter new email:");
        const newPhotoURL = prompt("Enter new photo URL:");

        if (newUsername && newEmail && newPhotoURL) {
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    updateProfile(user, {
                        displayName: newUsername,
                        email: newEmail,
                        photoURL: newPhotoURL
                    }).then(() => {
                        const userRef = doc(db, "users", user.uid);
                        updateDoc(userRef, {
                            username: newUsername,
                            email: newEmail,
                            photoURL: newPhotoURL
                        }).then(() => {
                            alert("Profile updated successfully!");
                            document.getElementById("user-name").innerText = newUsername;
                            document.getElementById("user-email").innerText = newEmail;
                            document.getElementById("profile-photo").src = newPhotoURL;
                        }).catch((error) => {
                            console.error("Error updating Firestore:", error);
                        });
                    }).catch((error) => {
                        console.error("Error updating profile:", error);
                    });
                }
            });
        }
    });

    async function callGoogleGeminiAI(userMessage) {
        const apiKey = 'AIzaSyCd_P4J5xgsXcyVaqUBtAHvhb1AWJUATvA'; // Replace with your actual API Key
        const endpoint = 'https://generativelanguage.googleapis.com/v1/models/gemini-1.0-pro:generateContent?key=AIzaSyCd_P4J5xgsXcyVaqUBtAHvhb1AWJUATvA'; // Hypothetical endpoint

        try {
            const response = await fetch(endpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiKey}`
                },
                body: JSON.stringify({
                    message: userMessage
                })
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const data = await response.json();
            return data.reply;  // Adjust based on API response structure
        } catch (error) {
            console.error("Error communicating with AI:", error);
            return "Sorry, something went wrong.";
        }
    }
        document.getElementById("send-message").addEventListener("click", async () => {
        const userMessage = document.getElementById("chat-input").value;
        if (userMessage) {
            // Display user message
            document.getElementById("chat-messages").innerHTML += `<p><strong>You:</strong> ${userMessage}</p>`;
            document.getElementById("chat-input").value = '';

            const aiMessage = await callGoogleGeminiAI(userMessage);

            // Display AI message
            document.getElementById("chat-messages").innerHTML += `<p><strong>AI:</strong> ${aiMessage}</p>`;
            document.getElementById("chat-box").scrollTop = document.getElementById("chat-box").scrollHeight;
        }
    });
</script>
</div>
</body>
</html>
