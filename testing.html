const userRef = doc(db, "users", auth.currentUser.uid);
await updateDoc(userRef, {
    fullname: newFullname || auth.currentUser.displayName,
    username: newUsername || auth.currentUser.displayName,
    photoURL: newPhotoURL || auth.currentUser.photoURL
});

alert("Profile updated successfully!");
location.reload();
}
} catch (error) {
    console.error("Error updating profile:", error);
    alert("There was an error updating your profile. Please try again.");
}
});

// Writing prompt section
const prompts = [
    "Write about a time you overcame a challenge.",
    "Describe your perfect day.",
    "What is your favorite memory from childhood?",
    // Add more prompts as needed
];
document.getElementById('new-prompt-btn').addEventListener('click', () => {
    const randomPrompt = prompts[Math.floor(Math.random() * prompts.length)];
    document.getElementById('writing-prompt').textContent = randomPrompt;
});

const textarea = document.getElementById('writing-textbox');
textarea.addEventListener('input', () => {
    const wordCount = textarea.value.split(/\s+/).filter(word => word.length > 0).length;
    document.getElementById('word-count').textContent = `Word count: ${wordCount}`;
});
</script>
</body>
</html>
