<!DOCTYPE html>
<html>
<head>
  <title>Gemini Multimodal Demo</title>
</head>
<body>
  <input type="text" id="textInput" placeholder="Enter your text...">
  <input type="file" id="imageInput" accept="image/*">
  <button onclick="sendDataToGemini()">Send to Gemini</button>
  <div id="result"></div>

  <script src="https://cdn.jsdelivr.net/npm/rsnchat@1.0.0"></script>
  <script>
    const ai = new RsnChat('rsnai_1WZBGHRi6kA4cjyKNrZTuEVY');

    async function sendDataToGemini() {
      const text = document.getElementById('textInput').value;
      const imageFile = document.getElementById('imageInput').files[0];

      // Convert image to base64
      let imageData = null;
      if (imageFile) {
        const reader = new FileReader();
        reader.readAsDataURL(imageFile);
        await new Promise(resolve => reader.onload = resolve);
        imageData = reader.result.split(',')[1]; // Extract base64 content
      }

      try {
        const response = await ai.gemini(text || 'Hello', imageData);
        document.getElementById('result').textContent = response.message.trim();
      } catch (error) {
        console.error('Error:', error);
        document.getElementById('result').textContent = 'Error processing request';
      }
    }
  </script>
</body>
</html>
